<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MyHomesBudget — Presupuesto familiar sencillo</title>
  <meta name="description" content="Gestiona ingresos, gastos y ahorros con facilidad. Pruébalo gratis durante 30 días.">

  <!-- CSP -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 img-src 'self' https: data:;
                 style-src 'self' 'unsafe-inline';
                 script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com;
                 connect-src 'self' https://www.google-analytics.com https://region1.google-analytics.com;
                 font-src 'self' https: data:;
                 frame-ancestors 'none';
                 base-uri 'self';
                 form-action 'self'">

  <!-- GA4 (mismo ID que IT/EN) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LSD3V9G957"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-LSD3V9G957', { anonymize_ip: true });
  </script>

  <!-- Redirección tras verificación de email -->
  <script>
    (function(){
      function esPrefix(){
        var m = location.pathname.match(/^\/(es|esp)(\/|$)/i);
        return m ? ("/" + m[1].toLowerCase() + "/") : "/es/";
      }
      var prefix = esPrefix();
      var q = new URLSearchParams(location.search);
      var hash = location.hash || '';
      var verified =
        q.get('verified') === '1' ||
        q.get('status') === 'verified' ||
        q.get('confirmed') === '1' ||
        hash.includes('verified');
      if (!verified) return;

      try {
        localStorage.setItem('email_verified','1');
        localStorage.setItem('last_verified', String(Date.now()));
      } catch(e){}
      var done = false;
      try { done = (localStorage.getItem('onboarding_completed') === '1'); } catch(e){}
      var dest = done ? 'dashboard.html' : 'onboarding.html';
      try { if (typeof gtag === 'function') gtag('event','verified_entry_redirect',{ dest: done ? 'dashboard' : 'onboarding', lang:'es' }); } catch(e){}
      location.replace(prefix + dest);
    })();
  </script>

  <!-- Social/SEO -->
  <link rel="canonical" href="https://www.myhomesbudget.com/es/"/>
  <link rel="alternate" href="https://www.myhomesbudget.com/it/" hreflang="it"/>
  <link rel="alternate" href="https://www.myhomesbudget.com/en/" hreflang="en"/>
  <link rel="alternate" href="https://www.myhomesbudget.com/es/" hreflang="es"/>
  <link rel="alternate" href="https://www.myhomesbudget.com/" hreflang="x-default"/>
  <meta property="og:title" content="MyHomesBudget — Gestiona tu presupuesto del hogar de forma sencilla e intuitiva"/>
  <meta property="og:description" content="Añade tus gastos e ingresos en pocos clics y mantén todo bajo control. Pruébalo gratis durante 30 días."/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://www.myhomesbudget.com/es/"/>
  <meta property="og:image" content="https://www.myhomesbudget.com/social.png"/>
  <meta name="twitter:card" content="summary_large_image"/>

  <!-- Perf -->
  <link rel="preload" href="/bg.webp" as="image" imagesrcset="/bg.webp"/>
  <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
  <link rel="preconnect" href="https://www.google-analytics.com" crossorigin>
  <link rel="preconnect" href="https://region1.google-analytics.com" crossorigin>
  <link rel="icon" href="/favicon.ico">
  <meta name="theme-color" content="#0f0f10">
  <meta name="color-scheme" content="light dark">

  <style>
    :root{
      font-family:-apple-system,system-ui,"Segoe UI",Roboto,sans-serif;
      --grad: linear-gradient(135deg,#6c5ce7,#00cec9);
      --card-border: rgba(0,0,0,.06);
    }
    *{box-sizing:border-box}
    a:focus-visible,button:focus-visible{outline:2px solid #00cec9; outline-offset:2px; border-radius:8px}

    /* Fondo */
    body{
      margin:0;padding:0;color:#fff;
      background:url("/bg.webp") no-repeat center/cover fixed;
    }
    body::before{content:"";position:fixed;inset:0;background:rgba(0,0,0,.08);z-index:-1}

    /* ——— TOPBAR ——— */
    .topbar{
      position:fixed;top:16px;left:50%;transform:translateX(-50%);
      width:min(1100px,calc(100% - 40px));z-index:20;pointer-events:none;
      display:flex;align-items:center;justify-content:space-between;
    }
    .logo-link,.top-actions{pointer-events:auto}
    .logo-link{display:flex;align-items:center;gap:8px;text-decoration:none}
    .logo-image{height:32px}
    .logo-text{font-weight:600;color:#fff;font-size:1.05rem;text-shadow:0 1px 2px rgba(0,0,0,.35)}
    .top-actions{display:flex;gap:12px;align-items:center}
    .top-link{
      text-decoration:none;padding:6px 12px;border-radius:10px;font-weight:800;
      background-image:var(--grad); -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    .top-link:hover{background:rgba(255,255,255,.14)}
    .lang-selector{font-size:22px;display:flex;gap:8px}
    .lang-selector a{color:#fff;text-decoration:none;padding:6px 10px;border-radius:8px}
    .lang-selector a:hover{background:rgba(255,255,255,.12)}

    /* WRAP */
    .wrap{width:min(1100px,calc(100% - 40px)); margin:110px auto 24px auto;}

    /* HERO */
    .hero{
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      text-align:center;gap:12px;padding:0 20px;margin:0;
    }
    .hero h1{
      font-size:clamp(2rem,5vw,3rem);line-height:1.15;margin:0 0 2px 0;
      color:#fff;text-shadow:0 2px 6px rgba(0,0,0,.35);
      opacity:0;transform:translateY(24px);animation:fadeInUp .8s ease forwards .05s;
    }
    .hero p{
      max-width:760px;margin:4px 0 0;font-size:clamp(1rem,2vw,1.15rem);
      text-shadow:0 1px 3px rgba(0,0,0,.35);
      opacity:0;transform:translateY(24px);animation:fadeInUp .8s ease forwards .25s;
    }
    .hero .cta-row{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
    .cta{
      display:inline-block;padding:12px 18px;border-radius:12px;font-weight:800;text-decoration:none;
      background:var(--grad);color:#fff;box-shadow:0 10px 24px rgba(0,0,0,.18);
      transition:transform .15s ease, filter .15s ease, box-shadow .15s ease;
      opacity:0;transform:translateY(24px);animation:fadeInUp .8s ease forwards .45s;
    }
    .cta:hover{filter:brightness(1.08);transform:translateY(-1px);box-shadow:0 14px 28px rgba(0,0,0,.22)}
    .microcopy{font-size:.95rem;color:#f0f0f0;opacity:.95; margin-top:2px;
      opacity:0;transform:translateY(24px);animation:fadeInUp .8s ease forwards .55s;}

    @keyframes fadeInUp { to { opacity:1; transform:none; } }
    @media (prefers-reduced-motion:reduce){
      .hero h1,.hero p,.cta,.microcopy{animation:none;opacity:1;transform:none}
    }

    /* Cards / grid */
    .grid{display:grid;gap:12px;grid-template-columns:1fr 1fr 1fr;margin-top:18px}
    @media(max-width:900px){.grid{grid-template-columns:1fr}}
    .card{
      background:rgba(255,255,255,0.50);
      backdrop-filter:saturate(1.1) blur(5px);
      -webkit-backdrop-filter:saturate(1.1) blur(2px);
      color:#111;padding:18px;border-radius:16px;
      box-shadow:0 10px 30px rgba(0,0,0,.08);
      display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;
    }
    .card h3{margin:0 0 6px}
    .card p{margin:0}

    /* Steps */
    .steps{margin-top:18px}
    .steps h3{margin:0 0 16px;text-align:center}
    .steps-grid{display:grid;gap:16px;grid-template-columns:1fr 1fr 1fr}
    @media(max-width:900px){.steps-grid{grid-template-columns:1fr}}
    .step{display:flex;gap:12px;align-items:flex-start;background:rgba(255,255,255,0.7);border-radius:12px;padding:14px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.04)}
    .nbr{
      flex:0 0 38px;height:38px;border-radius:50%;
      display:flex;align-items:center;justify-content:center;font-weight:900;color:#fff;
      background:var(--grad);box-shadow:0 6px 16px rgba(0,0,0,.15);
    }
    .step h4{margin:0 0 4px;font-size:1.05rem}
    .step p{margin:0;color:#444;font-size:.95rem}

    /* HOWTO (3 pasos) */
    .howto { padding: 18px; }
    .howto-title{
      margin: 0 0 12px;
      text-align: center;
      font-size: 1.35rem;
      font-weight: 800;
      background: var(--grad);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .howto-grid{
      display: grid;
      gap: 16px;
      grid-template-columns: repeat(3, minmax(0,1fr));
    }
    @media (max-width: 900px){ .howto-grid{ grid-template-columns: 1fr; } }

    .howto-item{
      background: rgba(255,255,255,.86);
      border: 1px solid var(--card-border);
      border-radius: 12px;
      padding: 16px;
      text-align: center;
      box-shadow: 0 8px 24px rgba(0,0,0,.08);
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
    }
    .howto-item:hover{
      transform: translateY(-2px);
      box-shadow: 0 12px 28px rgba(0,0,0,.12);
      background: rgba(255,255,255,.92);
    }
    .howto-icon{
      margin: 4px auto 8px;
      width: 48px; height: 48px;
      filter: drop-shadow(0 2px 8px rgba(0,0,0,.12));
    }
    .howto-item h4{
      margin: 6px 0 4px;
      font-size: 1.05rem;
      font-weight: 800;
      color: #111;
    }
    .howto-item p{
      margin: 0;
      color: #2b2b2b;
      font-size: .95rem;
      line-height: 1.35;
    }

    /* Espaciado entre secciones */
    .grid + .howto { margin-top: 18px; }
    .howto + .pricing { margin-top: 18px; }
    @media (min-width:1100px){
      .grid + .howto,
      .howto + .pricing { margin-top: 22px; }
    }

    /* Pricing teaser */
    .pricing{margin-top:20px}
    .pricing-grid{display:grid;gap:16px;grid-template-columns:1fr 1fr 1fr}
    @media(max-width:900px){.pricing-grid{grid-template-columns:1fr}}
    .price-card{
      position:relative;background:rgba(255,255,255,.55);
      backdrop-filter:saturate(1.1) blur(6px);-webkit-backdrop-filter:saturate(1.1) blur(3px);
      color:#111;border-radius:16px;padding:28px 18px 18px;
      box-shadow:0 10px 30px rgba(0,0,0,.08);
      display:flex;flex-direction:column;gap:10px;text-align:center;min-height:160px;
    }
    .price-card.popular{ padding-top:42px; }

    .price-card .badge{
      position:absolute;
      top:-14px;
      left:50%;
      transform:translateX(-50%);
      padding:6px 12px;
      border-radius:999px;
      font-size:.8rem;
      font-weight:900;
      color:#fff;
      background:var(--grad);
      box-shadow:0 10px 22px rgba(0,0,0,.20);
      z-index:2;
    }

    .plan-title{margin:0;display:flex;gap:.5rem;flex-wrap:wrap;align-items:baseline;justify-content:center;font-size:1.12rem}
    .plan-title .plan-name{font-weight:800}
    .plan-title .sep{opacity:.45}
    .plan-title .price-inline{
      font-weight:900;font-size:1.25rem;line-height:1;
      background:var(--grad);-webkit-background-clip:text;background-clip:text;color:transparent;
    }
    .plan-title .price-inline small{font-weight:600;font-size:.9rem;color:#333}
    .features{margin:4px 0 6px;color:#333;font-size:.95rem;line-height:1.45}
    .features ul{margin:0;padding:0;list-style:none}
    .features li{display:flex;gap:8px;align-items:flex-start;justify-content:center}
    .features li::before{content:"✓"; color:#2e7d32; font-weight:900}

    .btn-secondary{
      display:inline-block;background:var(--grad);color:#fff;text-decoration:none;font-weight:800;border-radius:12px;padding:10px 14px;
      box-shadow:0 8px 22px rgba(0,0,0,.15);align-self:center;transition:transform .15s ease, filter .15s ease;
    }
    .btn-secondary:hover{filter:brightness(1.08);transform:translateY(-1px)}

    /* Footer */
    .footer{margin:22px 0 10px;text-align:center;color:#e6e6e6;font-size:.9rem}
    .footer a{color:#fff}

    /* Reveal */
    .reveal{--d:0s;opacity:0;transform:translateY(16px) scale(.995);transform-origin:50% 100%;filter:saturate(.98);
      transition:opacity .85s ease,transform .85s cubic-bezier(.22,1,.36,1),filter .85s ease;will-change:opacity,transform}
    .reveal.in{opacity:1;transform:none;filter:none}
    @media (prefers-reduced-motion:reduce){.reveal,.reveal.in{transition:none;opacity:1;transform:none;filter:none}}

    /* iOS: fix background fixed */
    @supports (-webkit-touch-callout: none){ body{background-attachment:scroll} }

    /* Ajustes de pricing (igual que IT/EN) */
    .card.pricing.pricing-panel{ padding-top: 38px; padding-bottom: 26px; }
    .card.pricing.pricing-panel > h3{ margin: 0 0 18px; }
    .card.pricing.pricing-panel .pricing-grid{ margin-top: 22px; }
    .pricing .price-card:nth-child(2){ padding-top: 22px; }
    .pricing .price-card:nth-child(2) .badge{ top: -18px; left: 50%; right: auto; transform: translateX(-50%); }
    @media (max-width: 900px){
      .card.pricing.pricing-panel{ padding-top: 34px; }
      .pricing .price-card:nth-child(2) .badge{ top: -14px; }
    }
  </style>
</head>
<body>
  <!-- TOPBAR -->
  <nav class="topbar" aria-label="Barra superior">
    <a href="/es/" class="logo-link" title="MyHomesBudget">
      <img src="/homes.png" alt="Logotipo de MyHomesBudget" class="logo-image" loading="lazy">
      <span class="logo-text">MyHomesBudget</span>
    </a>
    <div class="top-actions">
      <a class="top-link" href="/es/login.html">Iniciar sesión</a>
      <a class="top-link" href="/es/pricing.html">Precios</a>
      <span class="lang-selector" aria-label="Selector de idioma">
        <a href="/it/" title="Italiano" lang="it">🇮🇹</a>
        <a href="/en/" title="English" lang="en">🇬🇧</a>
        <a href="/es/" title="Español" lang="es">🇪🇸</a>
      </span>
    </div>
  </nav>

  <main class="wrap">
    <!-- HERO -->
    <section class="hero">
      <h1>Gestiona tu presupuesto del hogar de forma sencilla e intuitiva</h1>
      <p>Añade tus gastos e ingresos en pocos clics y mantén todo bajo control.</p>

      <div class="cta-row">
        <a class="cta" href="signup.html?plan=starter"
           onclick="gtag('event','cta_click',{lang:'es',placement:'hero_trial'});">
          Pruébalo gratis 30 días
        </a>
        <a class="cta" href="/es/pricing.html"
           onclick="gtag('event','cta_click',{placement:'hero_secondary',lang:'es'});">
          Ver planes
        </a>
      </div>

      <div class="microcopy" aria-hidden="true">Sin tarjeta. Cancela cuando quieras.</div>
    </section>

    <!-- BENEFICIOS -->
    <section class="grid" aria-label="Beneficios clave">
      <div class="card reveal"><h3>Cero complicaciones</h3><p>Sin hojas de cálculo. Todo claro y rápido.</p></div>
      <div class="card reveal"><h3>Siempre contigo</h3><p>iPhone, Android y ordenador. Pronto instalable como PWA.</p></div>
      <div class="card reveal"><h3>Privacidad UE</h3><p>Datos en Europa y bajo tu control.</p></div>
    </section>

    <!-- CÓMO FUNCIONA (3 pasos) -->
    <section class="card howto" aria-label="Empieza en 3 pasos">
      <h3 class="reveal howto-title">Empieza en 3 pasos</h3>

      <div class="howto-grid">
        <!-- Paso 1 -->
        <article class="howto-item reveal">
          <div class="howto-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="48" height="48" role="img" focusable="false">
              <defs>
                <linearGradient id="grad-user" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0" stop-color="#6c5ce7"/>
                  <stop offset="1" stop-color="#00cec9"/>
                </linearGradient>
              </defs>
              <circle cx="12" cy="8" r="4" fill="url(#grad-user)"></circle>
              <path d="M4 20c0-4 4-7 8-7s8 3 8 7" fill="none" stroke="url(#grad-user)" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <h4>Crea tu cuenta</h4>
          <p>Regístrate gratis en 30 segundos con tu correo o cuenta de Google.</p>
        </article>

        <!-- Paso 2 -->
        <article class="howto-item reveal">
          <div class="howto-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="48" height="48" role="img" focusable="false">
              <defs>
                <linearGradient id="grad-plus" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0" stop-color="#6c5ce7"/>
                  <stop offset="1" stop-color="#00cec9"/>
                </linearGradient>
              </defs>
              <path d="M12 5v14M5 12h14" stroke="url(#grad-plus)" stroke-width="3" stroke-linecap="round"/>
            </svg>
          </div>
          <h4>Añade tus movimientos</h4>
          <p>Introduce ingresos y gastos con categorías personalizadas en pocos clics.</p>
        </article>

        <!-- Paso 3 -->
        <article class="howto-item reveal">
          <div class="howto-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="48" height="48" role="img" focusable="false">
              <defs>
                <linearGradient id="grad-cart" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0" stop-color="#6c5ce7"/>
                  <stop offset="1" stop-color="#00cec9"/>
                </linearGradient>
              </defs>
              <path d="M3 5h2l2.5 12h11l2-8H7" fill="none" stroke="url(#grad-cart)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="9" cy="20" r="1.6" fill="url(#grad-cart)"/>
              <circle cx="18" cy="20" r="1.6" fill="url(#grad-cart)"/>
            </svg>
          </div>
          <h4>Alcanza tus objetivos</h4>
          <p>Sigue tu progreso con gráficos intuitivos y mantente dentro de tu presupuesto.</p>
        </article>
      </div>
    </section>

    <!-- PLANES Y PRECIOS — teaser -->
    <section class="card pricing pricing-panel" aria-label="Planes y precios">
      <h3 class="reveal">UN PLAN PARA CADA NECESIDAD — ELIGE EL TUYO</h3>
      <div class="pricing-grid">
        <div class="price-card reveal">
          <h4 class="plan-title">
            <span class="plan-name">Starter</span>
            <span class="sep">—</span>
            <span class="price-inline">Gratis <small>/ 30 días</small></span>
          </h4>
          <div class="features">
            <ul>
              <li>Presupuestos y objetivos personales</li>
              <li>Categorías y subcategorías personalizadas</li>
              <li>Informes mensuales básicos</li>
            </ul>
          </div>
          <a class="btn-secondary" href="signup.html?plan=starter"
             onclick="gtag('event','select_pricing',{plan:'starter',placement:'pricing_grid'});">Empezar prueba</a>
        </div>

        <!-- PLUS con badge centrado -->
        <div class="price-card popular reveal">
          <div class="badge" aria-hidden="true">Más elegido</div>
          <h4 class="plan-title">
            <span class="plan-name">Plus</span>
            <span class="sep">—</span>
            <span class="price-inline">2,99€ <small>/ mes</small></span>
          </h4>
          <div class="features">
            <ul>
              <li>Todo lo de Starter</li>
              <li>Informes detallados y filtros avanzados</li>
              <li>Soporte prioritario por email</li>
            </ul>
          </div>
          <a class="btn-secondary" href="/es/paywall.html?plan=plus"
             onclick="gtag('event','select_pricing',{plan:'plus',placement:'pricing_grid'});">Mejorar a Plus</a>
        </div>

        <div class="price-card reveal">
          <h4 class="plan-title">
            <span class="plan-name">Pro</span>
            <span class="sep">—</span>
            <span class="price-inline">4,99€ <small>/ mes</small></span>
          </h4>
          <div class="features">
            <ul>
              <li>Todo lo de Plus</li>
              <li>Objetivos múltiples</li>
              <li>Acceso multidispositivo ilimitado</li>
            </ul>
          </div>
          <a class="btn-secondary" href="/es/paywall.html?plan=pro"
             onclick="gtag('event','select_pricing',{plan:'pro',placement:'pricing_grid'});">Mejorar a Pro</a>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      © MyHomesBudget —
      <a href="/es/pricing.html" onclick="gtag('event','cta_click',{placement:'footer_pricing',lang:'es'});">Planes y precios</a> ·
      <a href="/es/privacy.html" rel="noopener">Privacidad</a> ·
      <a href="/es/terms.html" rel="noopener">Términos</a>
    </footer>
  </main>

  <!-- Reveal (cards/steps) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      gtag('event','view_landing',{ lang:'es' });
      const targets = document.querySelectorAll('.reveal');
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        targets.forEach(el => el.classList.add('in')); return;
      }
      const sorted = [...targets].map(el => ({el, r: el.getBoundingClientRect()}))
        .sort((a,b)=> (a.r.top - b.r.top) || (a.r.left - b.r.left)).map(x=>x.el);
      sorted.forEach((el,i)=> el.style.setProperty('--d',(0.12*i)+'s'));
      const io = new IntersectionObserver((entries,obs)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            const el=e.target;
            el.style.transitionDelay=getComputedStyle(el).getPropertyValue('--d')||'0s';
            el.classList.add('in'); obs.unobserve(el);
          }
        });
      },{threshold:0.1, rootMargin:'0px 0px -10% 0px'});
      targets.forEach(el=>io.observe(el));
    });
  </script>
</body>
</html>

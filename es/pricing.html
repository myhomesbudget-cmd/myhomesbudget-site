<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Planes y Precios Â· MyHomesBudget</title>
  <meta name="description"
    content="Elige el plan que mejor se adapta a ti. Controla gastos, presupuestos y objetivos de ahorro en pocos minutos al dÃ­a.">
  <meta name="robots" content="index,follow">
  <meta name="color-scheme" content="light dark">
  <script>document.documentElement.classList.add('js');</script>

  <!-- CSP (solo GA4) -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    img-src 'self' https: data:;
    style-src 'self' 'unsafe-inline';
    script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com;
    connect-src 'self' https://www.google-analytics.com https://region1.google-analytics.com;
    font-src 'self' https: data:;
    frame-ancestors 'none';
    base-uri 'self';
    form-action 'self';
  ">

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LSD3V9G957"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-LSD3V9G957', { anonymize_ip: true });
  </script>

  <link rel="icon" href="/favicon.ico">
  <link rel="preload" href="/bg.webp" as="image" imagesrcset="/bg.webp" />

  <style>
    :root {
      --fg: #111;
      --glass: rgba(255, 255, 255, .62);
      --card-border: rgba(0, 0, 0, .06);
      --shadow: 0 10px 30px rgba(0, 0, 0, .10);
      --radius-lg: 16px;
      --grad: linear-gradient(135deg, #6c5ce7, #00cec9);
      --muted: #2a2a2a;
      --ok: #0ea5e9;
      --okbg: rgba(14, 165, 233, .12);
    }

    * {
      box-sizing: border-box
    }

    html,
    body {
      font-family: -apple-system, system-ui, "Segoe UI", Roboto, sans-serif
    }

    a:focus-visible,
    button:focus-visible,
    input:focus-visible {
      outline: 2px solid #00cec9;
      outline-offset: 2px;
      border-radius: 8px
    }

    body {
      margin: 0;
      color: #fff;
      background: url("/bg.webp") no-repeat center/cover fixed;
      min-height: 100vh;
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .10);
      z-index: -1
    }

    .topbar {
      position: fixed;
      top: 16px;
      left: 50%;
      transform: translateX(-50%);
      width: min(1100px, calc(100% - 40px));
      z-index: 20;
      pointer-events: none;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .logo-link,
    .lang-selector {
      pointer-events: auto
    }

    .logo-link {
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none
    }

    .logo-image {
      height: 32px
    }

    .logo-text {
      font-weight: 600;
      color: #fff;
      font-size: 1.05rem;
      text-shadow: 0 1px 2px rgba(0, 0, 0, .35)
    }

    .lang-selector {
      font-size: 22px;
      display: flex;
      gap: 8px
    }

    .lang-selector a {
      color: #fff;
      text-decoration: none;
      padding: 6px 10px;
      border-radius: 8px
    }

    .lang-selector a:hover {
      background: rgba(255, 255, 255, .12)
    }

    .lang-selector a[aria-current="page"] {
      background: rgba(255, 255, 255, .18);
      font-weight: 700
    }

    .wrap {
      width: min(1100px, calc(100% - 40px));
      margin: 110px auto 64px auto;
    }

    .hero {
      text-align: center;
      margin-bottom: 18px;
      background: var(--glass);
      color: #111;
      border-radius: var(--radius-lg);
      padding: clamp(18px, 4vw, 26px);
      box-shadow: var(--shadow);
    }

    .hero h1 {
      margin: 0 0 6px 0;
      color: #111;
      font-size: clamp(1.8rem, 4vw, 2.2rem);
      text-shadow: 0 1px 3px rgba(0, 0, 0, .35)
    }

    .hero p {
      margin: 6px auto 0;
      color: #222;
      max-width: 760px
    }

    .billing {
      display: flex;
      gap: 10px;
      align-items: center;
      justify-content: center;
      margin: 16px 0 8px 0;
      color: #111;
    }

    .switch {
      --w: 52px;
      --h: 30px;
      --dot: 22px;
      position: relative;
      width: var(--w);
      height: var(--h);
      border-radius: 999px;
      background: #ddd;
      cursor: pointer;
      transition: filter .15s ease;
      box-shadow: inset 0 2px 6px rgba(0, 0, 0, .12);
    }

    .switch input {
      display: none
    }

    .knob {
      position: absolute;
      top: 50%;
      left: 4px;
      transform: translateY(-50%);
      width: var(--dot);
      height: var(--dot);
      border-radius: 50%;
      background: #fff;
      box-shadow: 0 4px 10px rgba(0, 0, 0, .15);
      transition: left .18s cubic-bezier(.22, 1, .36, 1);
    }

    .switch:has(input:checked) .knob {
      left: calc(var(--w) - var(--dot) - 4px);
    }

    .save {
      display: inline-block;
      margin-left: 8px;
      padding: 4px 8px;
      border-radius: 999px;
      background: var(--okbg);
      color: #064e66;
      font-weight: 600
    }

    .grid {
      display: grid;
      gap: 16px;
      margin-top: 14px;
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    @media (max-width:900px) {
      .grid {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: var(--glass);
      color: #111;
      border-radius: var(--radius-lg);
      padding: 22px;
      box-shadow: var(--shadow);
      border: 1px solid var(--card-border);
      display: flex;
      flex-direction: column;
      min-height: 100%;
    }

    .card.popular {
      outline: 3px solid #6c5ce7;
      position: relative;
    }

    .badge {
      position: absolute;
      top: 14px;
      right: 14px;
      font-size: .85rem;
      background: #6c5ce7;
      color: #fff;
      border-radius: 999px;
      padding: 4px 10px;
      font-weight: 700;
      box-shadow: 0 6px 18px rgba(108, 92, 231, .35);
    }

    .title {
      font-weight: 800;
      font-size: 1.2rem;
      margin: 0 0 6px 0
    }

    .subtitle {
      margin: 0 0 10px 0;
      color: #333
    }

    .price {
      display: flex;
      align-items: baseline;
      gap: 6px;
      margin: 6px 0 10px 0
    }

    .price .num {
      font-weight: 900;
      font-size: 2rem;
      background: var(--grad);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent
    }

    .per {
      color: #333
    }

    .feat {
      margin: 10px 0 14px 0;
      padding: 0;
      list-style: none;
      color: #111
    }

    .feat li {
      display: flex;
      gap: 10px;
      align-items: flex-start;
      margin: 8px 0
    }

    .tick {
      display: inline-grid;
      place-items: center;
      min-width: 22px;
      height: 22px;
      border-radius: 50%;
      background: var(--okbg);
      color: #0c4a6e;
      font-weight: 700
    }

    .cta {
      margin-top: auto
    }

    .btn {
      cursor: pointer;
      border: none;
      border-radius: 12px;
      padding: 12px 16px;
      background: var(--grad);
      color: #fff;
      font-weight: 800;
      font-size: 1rem;
      box-shadow: 0 8px 22px rgba(0, 0, 0, .14);
      transition: transform .15s ease, filter .15s ease;
      width: 100%;
    }

    .btn:hover {
      filter: brightness(1.07);
      transform: translateY(-1px)
    }

    .small {
      margin-top: 10px;
      color: #333;
      font-size: .95rem
    }

    .faq {
      margin-top: 18px;
      background: var(--glass);
      color: #111;
      border-radius: var(--radius-lg);
      padding: 18px;
      box-shadow: var(--shadow);
    }

    details {
      border: 1px solid var(--card-border);
      border-radius: 12px;
      padding: 12px 14px;
      background: rgba(255, 255, 255, .84);
      margin: 8px 0
    }

    summary {
      cursor: pointer;
      font-weight: 700;
      color: #111
    }

    details p {
      margin: 8px 0 0 0;
      color: #2b2b2b
    }

    .footnotes {
      color: #222;
      text-align: center;
      margin-top: 10px
    }

    .footnotes small {
      display: block;
      margin: 4px 0
    }
  </style>
</head>

<body>
  <nav class="topbar" aria-label="Barra superior">
    <a href="/es/" class="logo-link" title="MyHomesBudget">
      <img src="/homes.png" alt="Logo de MyHomesBudget" class="logo-image" loading="lazy">
      <span class="logo-text">MyHomesBudget</span>
    </a>
    <span class="lang-selector" aria-label="Selector de idioma">
      <a href="/it/pricing.html" lang="it">ðŸ‡®ðŸ‡¹</a>
      <a href="/en/pricing.html" lang="en">ðŸ‡¬ðŸ‡§</a>
      <a href="/es/pricing.html" lang="es" aria-current="page">ðŸ‡ªðŸ‡¸</a>
    </span>
  </nav>

  <main class="wrap">
    <section class="hero">
      <h1>Controla tu presupuesto en pocos minutos al dÃ­a</h1>
      <p>Herramientas sencillas para gestionar gastos, presupuestos y objetivos de ahorro. Elige tu plan y empieza ahora â€” puedes cambiar de opiniÃ³n cuando quieras.</p>

      <div class="billing" role="group" aria-label="Selecciona el tipo de facturaciÃ³n">
        <span>Mensual</span>
        <label class="switch" title="Activar facturaciÃ³n anual (ahorra)">
          <input id="billToggle" type="checkbox" aria-label="FacturaciÃ³n anual">
          <span class="knob"></span>
        </label>
        <span>Anual</span>
        <span class="save" id="saveBadge" style="display:none">2 meses gratis</span>
      </div>
    </section>

    <section class="grid" id="plans">
      <!-- Starter -->
      <article class="card">
        <h2 class="title">Starter</h2>
        <p class="subtitle">Para empezar sin complicaciones</p>
        <div class="price">
          <span class="num" data-month="0 â‚¬" data-year="0 â‚¬">0 â‚¬</span>
          <span class="per">/ mes</span>
        </div>
        <ul class="feat">
          <li><span class="tick">âœ“</span> Presupuestos y objetivos personales</li>
          <li><span class="tick">âœ“</span> CategorÃ­as y subcategorÃ­as personalizadas</li>
          <li><span class="tick">âœ“</span> Informes mensuales bÃ¡sicos</li>
        </ul>
        <div class="cta">
          <a class="btn" href="/es/signup.html?plan=starter" data-plan="starter">Empieza gratis</a>
          <p class="small">No se requiere tarjeta</p>
        </div>
      </article>

      <!-- Plus (popular) -->
      <article class="card popular">
        <div class="badge">MÃ¡s elegido</div>
        <h2 class="title">Plus</h2>
        <p class="subtitle">Para una gestiÃ³n completa y constante</p>
        <div class="price">
          <span class="num" data-month="2,99 â‚¬" data-year="29,90 â‚¬" data-save="2 meses gratis">2,99 â‚¬</span>
          <span class="per">/ mes</span>
        </div>
        <ul class="feat">
          <li><span class="tick">âœ“</span> Todo lo de Starter</li>
          <li><span class="tick">âœ“</span> Informes detallados y filtros avanzados</li>
          <li><span class="tick">âœ“</span> Soporte prioritario por correo electrÃ³nico</li>
        </ul>
        <div class="cta">
          <a class="btn" href="#" data-plan="plus">Pasar a Plus</a>
          <p class="small">Cancela cuando quieras</p>
        </div>
      </article>

      <!-- Pro -->
      <article class="card">
        <h2 class="title">Pro</h2>
        <p class="subtitle">Para necesidades avanzadas y familias</p>
        <div class="price">
          <span class="num" data-month="4,99 â‚¬" data-year="49,90 â‚¬" data-save="2 meses gratis">4,99 â‚¬</span>
          <span class="per">/ mes</span>
        </div>
        <ul class="feat">
          <li><span class="tick">âœ“</span> Todo lo de Plus</li>
          <li><span class="tick">âœ“</span> MÃºltiples objetivos y periodos personalizados</li>
          <li><span class="tick">âœ“</span> Acceso multidispositivo sin lÃ­mites</li>
        </ul>
        <div class="cta">
          <a class="btn" href="#" data-plan="pro">Activar Pro</a>
          <p class="small">FacturaciÃ³n flexible</p>
        </div>
      </article>
    </section>

    <section class="faq" aria-label="Preguntas frecuentes">
      <h2 style="margin:0 0 8px 0">Preguntas frecuentes</h2>

      <details>
        <summary>Â¿Puedo cancelar cuando quiera?</summary>
        <p>SÃ­. La cancelaciÃ³n es inmediata y no se cobrarÃ¡n renovaciones futuras.</p>
      </details>

      <details>
        <summary>Â¿QuÃ© cambia entre Mensual y Anual?</summary>
        <p>Con el plan anual ahorras el equivalente a 2 meses respecto al plan mensual. El acceso y las funciones son los mismos.</p>
      </details>

      <details>
        <summary>Â¿Necesito tarjeta para el plan Starter?</summary>
        <p>No. Puedes empezar gratis y pasar a Plus/Pro en cualquier momento.</p>
      </details>
    </section>

    <div class="footnotes">
      <small>IVA incluida cuando sea aplicable. Precios en EUR.</small>
      <small>Las funcionalidades pueden evolucionar: actualizamos el producto de forma continua.</small>
    </div>
  </main>

  <script>
    // GA4
    gtag('event', 'pricing_viewed', { lang: 'es' });

    // Toggle facturaciÃ³n
    const toggle = document.getElementById('billToggle');
    const saveBadge = document.getElementById('saveBadge');
    const priceEls = document.querySelectorAll('.price .num');
    const perEls = document.querySelectorAll('.price .per');

    const LINKS = {
      plus: {
        monthly: "https://buy.stripe.com/cNi4gzf0D5jO1aQ20JcbC00",
        yearly: "https://buy.stripe.com/4gMfZh4lZ5jO6va48RcbC01"
      },
      pro: {
        monthly: "https://buy.stripe.com/28E3cv3hVeUo06M9tbcbC02",
        yearly: "https://buy.stripe.com/dRm28r7ybcMg7ze8p7cbC03"
      }
    };

    function applyBillingMode() {
      const annual = toggle.checked;
      priceEls.forEach(el => {
        const val = annual ? el.dataset.year : el.dataset.month;
        el.textContent = val || '';
      });
      perEls.forEach(el => el.textContent = annual ? '/ aÃ±o' : '/ mes');
      // badge de ahorro (si estÃ¡ definido en el plan)
      const anySave = [...priceEls].some(el => (el.dataset.save && toggle.checked));
      saveBadge.style.display = anySave ? 'inline-block' : 'none';
      if (anySave) saveBadge.textContent = priceEls[1]?.dataset.save || 'Ahorra';

      // Actualiza enlaces
      document.querySelectorAll('.btn[data-plan]').forEach(btn => {
        const plan = btn.dataset.plan;
        if (LINKS[plan]) {
          btn.href = annual ? LINKS[plan].yearly : LINKS[plan].monthly;
        }
      });

      gtag('event', 'pricing_toggle', { mode: annual ? 'annual' : 'monthly', lang: 'es' });
    }
    toggle.addEventListener('change', applyBillingMode);
    applyBillingMode();

    // Tracking de clic en CTA
    document.querySelectorAll('.btn[data-plan]').forEach(btn => {
      btn.addEventListener('click', e => {
        const plan = btn.dataset.plan;
        const mode = toggle.checked ? 'annual' : 'monthly';
        gtag('event', 'pricing_cta_click', { plan, mode, lang: 'es' });
      });
    });

    // Tracking FAQ
    document.querySelectorAll('.faq details').forEach(d => {
      d.addEventListener('toggle', () => {
        gtag('event', 'faq_toggle', { q: d.querySelector('summary')?.textContent?.trim(), open: d.open, lang: 'es' });
      });
    });
  </script>
</body>

</html>

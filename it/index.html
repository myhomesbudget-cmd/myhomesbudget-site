<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MyHomesBudget — Bilancio familiare semplice</title>
  <meta name="description" content="Gestisci entrate, spese e risparmi in modo semplice. Prova gratis per 30 giorni.">

  <!-- CSP -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 img-src 'self' https: data:;
                 style-src 'self' 'unsafe-inline';
                 script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com;
                 connect-src 'self' https://www.google-analytics.com https://region1.google-analytics.com;
                 font-src 'self' https: data:;
                 frame-ancestors 'none';
                 base-uri 'self';
                 form-action 'self'">

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LSD3V9G957"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-LSD3V9G957', { anonymize_ip: true });
  </script>

  <!-- Canonical + hreflang -->
  <link rel="canonical" href="https://www.myhomesbudget.com/it/" />
  <link rel="alternate" href="https://www.myhomesbudget.com/it/" hreflang="it" />
  <link rel="alternate" href="https://www.myhomesbudget.com/en/" hreflang="en" />
  <link rel="alternate" href="https://www.myhomesbudget.com/es/" hreflang="es" />
  <link rel="alternate" href="https://www.myhomesbudget.com/" hreflang="x-default" />

  <!-- Social -->
  <meta property="og:title" content="MyHomesBudget — Gestisci il tuo bilancio domestico in modo semplice e intuitivo" />
  <meta property="og:description" content="Inserisci le tue spese e le entrate in pochi click e tieni tutto sotto controllo. Prova gratis per 30 giorni." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.myhomesbudget.com/it/" />
  <meta property="og:image" content="https://www.myhomesbudget.com/social.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="MyHomesBudget — Gestisci il tuo bilancio domestico in modo semplice e intuitivo" />
  <meta name="twitter:description" content="Inserisci le tue spese e le entrate in pochi click e tieni tutto sotto controllo. Prova gratis per 30 giorni." />
  <meta name="twitter:image" content="https://www.myhomesbudget.com/social.png" />

  <!-- Performance -->
  <link rel="preload" href="/bg.webp" as="image" imagesrcset="/bg.webp" />
  <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
  <link rel="preconnect" href="https://www.google-analytics.com" crossorigin>
  <link rel="preconnect" href="https://region1.google-analytics.com" crossorigin>
  <link rel="icon" href="/favicon.ico">
  <meta name="theme-color" content="#0f0f10">
  <meta name="color-scheme" content="light dark">

  <style>
    :root{font-family:-apple-system,system-ui,"Segoe UI",Roboto,sans-serif}
    *{box-sizing:border-box}
    a:focus-visible, button:focus-visible{outline:2px solid #00cec9; outline-offset:2px; border-radius:6px}

    /* Sfondo */
    body{
      margin:0;padding:0;color:#fff;
      background:url("/bg.webp") no-repeat center center fixed;
      background-size:cover;
    }
    body::before{content:"";position:fixed;inset:0;background:rgba(0,0,0,.05);z-index:-1}

    /* Layout + Nav */
    .wrap{max-width:960px;margin:0 auto;padding:24px}
    .nav{display:flex;justify-content:space-between;align-items:center}
    .logo-link{display:flex;align-items:center;gap:8px;text-decoration:none}
    .logo-image{height:40px}
    .logo-text{font-weight:600;color:#fff;font-size:1.2rem}
    .right-bar{display:flex;gap:16px;align-items:center}
    .lang-selector{font-size:22px;display:flex;gap:8px}
    .lang-selector a{color:#fff;text-decoration:none;padding:6px 10px;border-radius:8px}
    .lang-selector a:hover{background:rgba(255,255,255,.12)}
    .login-link{color:#fff;text-decoration:none;padding:6px 10px;border-radius:8px}
    .login-link:hover{background:rgba(255,255,255,.12)}

    /* Hero */
    .hero{
      min-height:42vh;
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      text-align:center;gap:16px;padding:0 20px;margin:0;
    }
    .hero h1{
      font-size:clamp(2rem,5vw,3rem);line-height:1.2;margin:0;
      opacity:0;transform:translateY(30px);animation:fadeInUp .8s ease forwards;
      text-shadow:0 1px 3px rgba(0,0,0,.4);
    }
    .hero p{
      max-width:720px;margin:8px 0 4px;font-size:clamp(1rem,2vw,1.25rem);
      opacity:0;transform:translateY(30px);animation:fadeInUp .8s ease forwards .4s;
      text-shadow:0 1px 3px rgba(0,0,0,.4);
    }
    .cta{
      display:inline-block;background:#111;color:#fff;
      padding:12px 18px;border-radius:12px;font-weight:700;text-decoration:none;
      box-shadow:0 10px 24px rgba(0,0,0,.15);
      opacity:0;transform:translateY(30px);animation:fadeInUp .8s ease forwards .8s;
      transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
    }
    .cta:hover{filter:brightness(1.08);transform:translateY(-1px);box-shadow:0 14px 28px rgba(0,0,0,.2)}
    .microcopy{font-size:.95rem;color:#eaeaea;opacity:.95}
    @keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}
    @media (prefers-reduced-motion:reduce){.hero h1,.hero p,.cta{animation:none;opacity:1;transform:none}}

    /* Card / Grid */
    .grid{display:grid;gap:12px;grid-template-columns:1fr 1fr 1fr;margin-top:20px}
    @media(max-width:800px){.grid{grid-template-columns:1fr}}
    .card{
      background:rgba(255,255,255,0.50);
      backdrop-filter:saturate(1.1) blur(5px);
      -webkit-backdrop-filter:saturate(1.1) blur(2px);
      color:#111;padding:18px;border-radius:16px;
      box-shadow:0 10px 30px rgba(0,0,0,.08);
      display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;
    }
    .card h3{margin:0 0 6px}
    .card p{margin:0}

    /* Steps */
    .steps{margin-top:24px}
    .steps h3{margin:0 0 20px;text-align:center}
    .steps-grid{display:grid;gap:16px;grid-template-columns:1fr 1fr 1fr}
    @media(max-width:800px){.steps-grid{grid-template-columns:1fr}}
    .step{display:flex;gap:12px;align-items:flex-start;background:rgba(255,255,255,0.7);border-radius:12px;padding:14px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.04)}
    .nbr{flex:0 0 38px;height:38px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:rgba(108,92,231,.7);color:#fff;font-weight:700;box-shadow:0 4px 10px rgba(0,0,0,.08)}
    .step h4{margin:0 0 4px;font-size:1.05rem}
    .step p{margin:0;color:#444;font-size:.95rem}

    /* Pricing (grid + card interno) */
    .pricing{margin-top:28px}
    .pricing-grid{display:grid;gap:16px;grid-template-columns:1fr 1fr}
    @media(max-width:800px){.pricing-grid{grid-template-columns:1fr}}
    .price-card{
      background:rgba(255,255,255,.55);
      backdrop-filter:saturate(1.1) blur(6px);
      -webkit-backdrop-filter:saturate(1.1) blur(3px);
      color:#111;border-radius:16px;padding:18px;box-shadow:0 10px 30px rgba(0,0,0,.08);
      display:flex;flex-direction:column;justify-content:center;gap:10px;
      text-align:center;
    }

    /* Titolo + prezzo sulla stessa riga */
    .price-card .plan-title{
      margin: 0;
      display: flex;
      gap: .5rem;
      flex-wrap: wrap;
      align-items: baseline;
      justify-content: center;
      text-align: center;
      font-size: 1.12rem;
    }
    .price-card .plan-title .plan-name{ font-weight: 700; }
    .price-card .plan-title .sep{ opacity: .45; }
    .price-card .plan-title .price-inline{
      font-weight: 800;
      font-size: 1.25rem;
      line-height: 1;
    }
    .price-card .plan-title .price-inline small{
      font-weight: 600; font-size: .9rem; color: #333;
    }

    /* Spaziature card prezzo con nuovo header */
    .price-card{ gap: 8px; }
    .features{ margin: 6px 0 10px; color:#333; font-size:.95rem; line-height:1.45; }

    .btn-secondary{
      display:inline-block;background:linear-gradient(135deg,#6c5ce7,#00cec9);
      color:#fff;text-decoration:none;font-weight:700;border-radius:12px;padding:10px 14px;
      box-shadow:0 8px 22px rgba(0,0,0,.15);
      align-self:center;
    }
    .btn-secondary:hover{filter:brightness(1.08)}

    /* Footer */
    .footer{margin:40px 0;text-align:center;color:#e6e6e6;font-size:.9rem}
    .footer a{color:#fff}

    /* ======= PANNELLO PREZZI stile "Come funziona" ======= */
    .pricing-panel{
      align-items:stretch;
      padding:14px;
      box-shadow:inset 0 0 0 1px rgba(0,0,0,.04);
    }
    .pricing-panel h3{ margin:0 0 12px; text-align:center; color:#111; }

    /* ======= Reveal on scroll (soft, dal basso con stagger) ======= */
    .reveal{
      --d: 0s;
      opacity: 0;
      transform: translateY(16px) scale(.995);
      transform-origin: 50% 100%;
      filter: saturate(.98);
      transition:
        opacity .85s ease,
        transform .85s cubic-bezier(.22,1,.36,1),
        filter .85s ease;
      will-change: opacity, transform;
    }
    .reveal.in{ opacity:1; transform:none; filter:none; }
    @media (prefers-reduced-motion: reduce){
      .reveal, .reveal.in{ transition:none; opacity:1; transform:none; filter:none; }
    }

    /* ======= COMPATTAZIONE DESKTOP (fold-fit) ======= */
    @media (min-width: 900px) {
      .wrap{ padding:16px; }
      .logo-image{ height:32px; }

      .hero{ min-height:30vh; gap:8px; }
      .hero h1{ font-size:clamp(1.8rem,3.8vw,2.4rem); margin:0; }
      .hero p{ margin:2px 0 0; }
      .cta{ padding:10px 16px; }
      .microcopy{ font-size:.9rem; }

      .grid{ margin-top:8px; gap:8px; }
      .card{ padding:14px; }

      .steps{ margin-top:12px; }
      .steps h3{ margin:0 0 8px; }
      .steps-grid{ gap:10px; }
      .step{ padding:10px; }
      .nbr{ flex:0 0 32px; height:32px; }

      .pricing{ margin-top:12px; }
      .pricing-grid{ gap:10px; }
      .price-card{ padding:12px 14px; } /* no min-height qui: resta il 140px sotto */
      .footer{ margin:12px 0 8px; }
    }

    /* Desktop: min-height compatta per card prezzo */
    @media (min-width:900px){
      .price-card{ min-height: 140px; }
    }

    /* iOS Safari: evita jank con background fixed */
    @supports (-webkit-touch-callout: none) {
      body { background-attachment: scroll; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- NAV -->
    <nav class="nav" aria-label="Navigazione principale">
      <a href="/" title="myHomesBudget" class="logo-link">
        <img src="/homes.png" alt="myhomesbudget Logo" class="logo-image" loading="lazy">
        <span class="logo-text">MyHomesBudget</span>
      </a>

      <div class="right-bar">
        <a class="login-link" href="login.html" aria-label="Accedi">Accedi</a>
        <span class="lang-selector" aria-label="Selettore lingue">
          <a href="/it/" title="Italiano" lang="it">🇮🇹</a>
          <a href="/en/" title="English" lang="en">🇬🇧</a>
          <a href="/es/" title="Español" lang="es">🇪🇸</a>
        </span>
      </div>
    </nav>

    <!-- HERO -->
    <section class="hero">
      <h1>Gestisci il tuo bilancio domestico in modo semplice e intuitivo</h1>
      <p>Inserisci le tue spese e le entrate in pochi click e tieni tutto sotto controllo.</p>

      <a class="cta" href="signup.html"
         onclick="gtag('event','cta_click',{lang:'it',placement:'hero_trial'});">
        Prova gratis per 30 giorni
      </a>
      <div class="microcopy" aria-hidden="true">Nessuna carta di credito richiesta. Cancella quando vuoi.</div>
    </section>

    <!-- BENEFIT -->
    <section class="grid" aria-label="Benefici principali">
      <div class="card reveal"><h3>Zero complicazioni</h3><p>Niente fogli di calcolo. Tutto chiaro e rapido.</p></div>
      <div class="card reveal"><h3>Sempre con te</h3><p>iPhone, Android e PC. Presto installabile come PWA.</p></div>
      <div class="card reveal"><h3>Privacy UE</h3><p>Dati in Europa e sotto il tuo controllo.</p></div>
    </section>

    <!-- COME FUNZIONA -->
    <section class="card steps" aria-label="Come funziona">
      <h3 class="reveal">Come funziona</h3>
      <div class="steps-grid">
        <div class="step reveal">
          <div class="nbr" aria-hidden="true">1</div>
          <div class="txt">
            <h4>Accedi</h4>
            <p>Entra con la tua email in pochi secondi.</p>
          </div>
        </div>
        <div class="step reveal">
          <div class="nbr" aria-hidden="true">2</div>
          <div class="txt">
            <h4>Aggiungi movimenti</h4>
            <p>Entrate e uscite in pochi click, senza complicazioni.</p>
          </div>
        </div>
        <div class="step reveal">
          <div class="nbr" aria-hidden="true">3</div>
          <div class="txt">
            <h4>Controlla i grafici</h4>
            <p>Osserva e monitora le tue spese.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- PIANI E PREZZI (pannello stile "Come funziona") -->
    <section class="card pricing pricing-panel" aria-label="Piani e prezzi">
      <h3 class="reveal">Scegli il tuo piano</h3>
      <div class="pricing-grid">
        <!-- Mensile -->
        <div class="price-card reveal">
          <h4 class="plan-title">
            <span class="plan-name">Piano Mensile</span>
            <span class="sep">—</span>
            <span class="price-inline">2,99€ <small>/ mese</small></span>
          </h4>
          <div class="features">
            Accesso completo, aggiornamenti continui e priorità alle nuove funzionalità.
          </div>
          <a class="btn-secondary"
             href="signup.html?plan=monthly"
             onclick="gtag('event','select_pricing',{plan:'monthly'});">
            Scegli mensile
          </a>
        </div>

        <!-- Lifetime -->
        <div class="price-card reveal">
          <h4 class="plan-title">
            <span class="plan-name">Una Tantum</span>
            <span class="sep">—</span>
            <span class="price-inline">19,99€ <small>/ per sempre</small></span>
          </h4>
          <div class="features">
            Paghi una sola volta. Uso illimitato e accesso alle funzionalità principali.
          </div>
          <a class="btn-secondary"
             href="signup.html?plan=lifetime"
             onclick="gtag('event','select_pricing',{plan:'lifetime'});">
            Acquisto una tantum
          </a>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      © MyHomesBudget —
      <a href="https://www.myhomesbudget.com/it/privacy.html" rel="noopener">Privacy</a> ·
      <a href="https://www.myhomesbudget.com/it/terms.html" rel="noopener">Termini</a>
    </footer>
  </div>

  <!-- Reveal on scroll: sequenza verticale morbida -->
  <script>
document.addEventListener('DOMContentLoaded', () => {
  const targets = [
    ...document.querySelectorAll('.grid .card'),
    ...document.querySelectorAll('.steps h3'),
    ...document.querySelectorAll('.steps-grid .step'),
    ...document.querySelectorAll('.pricing h3'),
    ...document.querySelectorAll('.pricing-grid .price-card')
  ];

  // top -> bottom
  const seq = targets
    .map(el => ({ el, rect: el.getBoundingClientRect() }))
    .sort((a, b) => (a.rect.top - b.rect.top) || (a.rect.left - b.rect.left))
    .map(x => x.el);

  seq.forEach((el, i) => {
    el.classList.add('reveal');
    el.style.setProperty('--d', (0.12 * i + 0.06) + 's');
  });

  if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
    document.querySelectorAll('.reveal').forEach(el => el.classList.add('in'));
    return;
  }

  const io = new IntersectionObserver((entries, obs) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const el = entry.target;
        el.style.transitionDelay = getComputedStyle(el).getPropertyValue('--d') || '0s';
        el.classList.add('in');
        obs.unobserve(el);
      }
    });
  }, {
    threshold: 0.12,
    rootMargin: '0px 0px -12% 0px'   // fa entrare i pannelli più tardi
  });

  document.querySelectorAll('.reveal').forEach(el => io.observe(el));
});
</script>
</body>
</html>

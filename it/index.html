<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MyHomesBudget — Bilancio familiare semplice</title>
  <meta name="description" content="Gestisci entrate, spese e risparmi in modo semplice. Prova gratis per 30 giorni.">

  <!-- CSP -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 img-src 'self' https: data:;
                 style-src 'self' 'unsafe-inline';
                 script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com;
                 connect-src 'self' https://www.google-analytics.com https://region1.google-analytics.com;
                 font-src 'self' https: data:;
                 frame-ancestors 'none';
                 base-uri 'self';
                 form-action 'self'">

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LSD3V9G957"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-LSD3V9G957', { anonymize_ip: true });
  </script>

  <!-- Redirect post-verifica email -->
  <script>
    (function(){
      function itPrefix(){
        var m = location.pathname.match(/^\/(it|ita)(\/|$)/i);
        return m ? ("/" + m[1].toLowerCase() + "/") : "/it/";
      }
      var prefix = itPrefix();
      var q = new URLSearchParams(location.search);
      var hash = location.hash || '';
      var verified =
        q.get('verified') === '1' ||
        q.get('status') === 'verified' ||
        q.get('confirmed') === '1' ||
        hash.includes('verified');
      if (!verified) return;
      try {
        localStorage.setItem('email_verified','1');
        localStorage.setItem('last_verified', String(Date.now()));
      } catch(e){}
      var done = false;
      try { done = (localStorage.getItem('onboarding_completed') === '1'); } catch(e){}
      var dest = done ? 'dashboard.html' : 'onboarding.html';
      try { if (typeof gtag === 'function') gtag('event','verified_entry_redirect',{ dest: done ? 'dashboard' : 'onboarding', lang:'it' }); } catch(e){}
      location.replace(prefix + dest);
    })();
  </script>

  <!-- Canonical + hreflang -->
  <link rel="canonical" href="https://www.myhomesbudget.com/it/" />
  <link rel="alternate" href="https://www.myhomesbudget.com/it/" hreflang="it" />
  <link rel="alternate" href="https://www.myhomesbudget.com/en/" hreflang="en" />
  <link rel="alternate" href="https://www.myhomesbudget.com/es/" hreflang="es" />
  <link rel="alternate" href="https://www.myhomesbudget.com/" hreflang="x-default" />

  <!-- Social -->
  <meta property="og:title" content="MyHomesBudget — Gestisci il tuo bilancio domestico in modo semplice e intuitivo" />
  <meta property="og:description" content="Inserisci le tue spese e le entrate in pochi click e tieni tutto sotto controllo. Prova gratis per 30 giorni." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.myhomesbudget.com/it/" />
  <meta property="og:image" content="https://www.myhomesbudget.com/social.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="MyHomesBudget — Gestisci il tuo bilancio domestico in modo semplice e intuitivo" />
  <meta name="twitter:description" content="Inserisci le tue spese e le entrate in pochi click e tieni tutto sotto controllo. Prova gratis per 30 giorni." />
  <meta name="twitter:image" content="https://www.myhomesbudget.com/social.png" />

  <!-- Performance -->
  <link rel="preload" href="/bg.webp" as="image" imagesrcset="/bg.webp" />
  <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
  <link rel="preconnect" href="https://www.google-analytics.com" crossorigin>
  <link rel="preconnect" href="https://region1.google-analytics.com" crossorigin>
  <link rel="icon" href="/favicon.ico">
  <meta name="theme-color" content="#0f0f10">
  <meta name="color-scheme" content="light dark">

  <style>
    :root{font-family:-apple-system,system-ui,"Segoe UI",Roboto,sans-serif}
    *{box-sizing:border-box}
    a:focus-visible, button:focus-visible{outline:2px solid #00cec9; outline-offset:2px; border-radius:6px}

    /* Sfondo */
    body{
      margin:0;padding:0;color:#fff;
      background:url("/bg.webp") no-repeat center center fixed;
      background-size:cover;
    }
    body::before{content:"";position:fixed;inset:0;background:rgba(0,0,0,.05);z-index:-1}

    /* Layout + Nav */
    .wrap{max-width:1100px;margin:0 auto;padding:24px}
    .nav{display:flex;justify-content:space-between;align-items:center}
    .logo-link{display:flex;align-items:center;gap:8px;text-decoration:none}
    .logo-image{height:32px}
    .logo-text{font-weight:600;color:#fff;font-size:1.05rem;text-shadow:0 1px 2px rgba(0,0,0,.35)}
    .right-bar{display:flex;gap:12px;align-items:center}
    .login-link,.nav .nav-link{color:#fff;text-decoration:none;padding:6px 10px;border-radius:10px;background:rgba(0,0,0,.28); border:1px solid rgba(255,255,255,.25);font-weight:600}
    .login-link:hover,.nav .nav-link:hover{background:rgba(0,0,0,.38)}
    .lang-selector{font-size:22px;display:flex;gap:8px}
    .lang-selector a{color:#fff;text-decoration:none;padding:6px 10px;border-radius:8px}
    .lang-selector a:hover{background:rgba(255,255,255,.12)}

    /* HERO – niente box, tutto bianco */
    .hero{
      min-height:30vh;
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      text-align:center;gap:12px;padding:0 16px;margin:0;
      background:transparent !important; box-shadow:none !important; border:none !important;
    }
    .hero h1{
      color:#fff;
      font-size:clamp(1.8rem,4.8vw,2.6rem);line-height:1.2;margin:0;
      opacity:0;transform:translateY(30px);animation:fadeInUp .8s ease forwards;
      text-shadow:0 2px 6px rgba(0,0,0,.45);
    }
    .hero p{
      color:#fff;
      max-width:820px;margin:6px 0 0;font-size:clamp(1rem,2vw,1.15rem);
      opacity:0;transform:translateY(30px);animation:fadeInUp .8s ease forwards .35s;
      text-shadow:0 2px 6px rgba(0,0,0,.45);
    }
    .cta{
      display:inline-block;background:#111;color:#fff;
      padding:12px 18px;border-radius:12px;font-weight:800;text-decoration:none;
      box-shadow:0 10px 24px rgba(0,0,0,.25);
      opacity:0;transform:translateY(30px);animation:fadeInUp .8s ease forwards .7s;
      transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
    }
    .cta:hover{filter:brightness(1.08);transform:translateY(-1px);box-shadow:0 14px 28px rgba(0,0,0,.28)}
    .cta-ghost{
      background:transparent; border:1px solid rgba(255,255,255,.8); margin-left:8px; color:#fff;
      box-shadow:0 6px 16px rgba(0,0,0,.15);
    }
    .cta-ghost:hover{transform:translateY(-1px); background:rgba(255,255,255,.08)}
    .microcopy{font-size:.95rem;color:#fff;opacity:.95;text-shadow:0 1px 3px rgba(0,0,0,.45)}
    @keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}
    @media (prefers-reduced-motion:reduce){.hero h1,.hero p,.cta{animation:none;opacity:1;transform:none}}

    /* Card / Grid compatti */
    .grid{display:grid;gap:10px;grid-template-columns:1fr 1fr 1fr;margin-top:14px}
    @media(max-width:900px){.grid{grid-template-columns:1fr}}
    .card{
      background:rgba(255,255,255,0.50);
      backdrop-filter:saturate(1.1) blur(5px); -webkit-backdrop-filter:saturate(1.1) blur(2px);
      color:#111;padding:14px;border-radius:16px;
      box-shadow:0 10px 30px rgba(0,0,0,.08);
      display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;
    }
    .card h3{margin:0 0 6px}
    .card p{margin:0}

    /* Steps compatti */
    .steps{margin-top:12px}
    .steps h3{margin:0 0 10px;text-align:center}
    .steps-grid{display:grid;gap:10px;grid-template-columns:1fr 1fr 1fr}
    @media(max-width:900px){.steps-grid{grid-template-columns:1fr}}
    .step{display:flex;gap:10px;align-items:flex-start;background:rgba(255,255,255,0.7);border-radius:12px;padding:10px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.04)}
    .nbr{flex:0 0 32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:rgba(108,92,231,.7);color:#fff;font-weight:700;box-shadow:0 4px 10px rgba(0,0,0,.08)}
    .step h4{margin:0 0 2px;font-size:1rem}
    .step p{margin:0;color:#444;font-size:.95rem}

    /* Pricing compatti */
    .pricing{margin-top:12px}
    .pricing-grid{display:grid;gap:10px;grid-template-columns:1fr 1fr 1fr}
    @media(max-width:900px){.pricing-grid{grid-template-columns:1fr}}
    .price-card{
      position:relative;background:rgba(255,255,255,.55);
      backdrop-filter:saturate(1.1) blur(6px); -webkit-backdrop-filter:saturate(1.1) blur(3px);
      color:#111;border-radius:16px;padding:14px;box-shadow:0 10px 30px rgba(0,0,0,.08);
      display:flex;flex-direction:column;justify-content:center;gap:8px;text-align:center;min-height:130px;
    }
    .badge{position:absolute;top:10px;right:10px;background:#6c5ce7;color:#fff;border-radius:999px;padding:4px 10px;font-size:.75rem;font-weight:800;box-shadow:0 6px 16px rgba(0,0,0,.12)}
    .pricing-panel{align-items:stretch;padding:12px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.04)}
    .pricing-panel h3{margin:0 0 10px;text-align:center;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,.35)}
    .plan-title{margin:0;display:flex;gap:.5rem;flex-wrap:wrap;align-items:baseline;justify-content:center;font-size:1.06rem}
    .plan-title .plan-name{font-weight:800}
    .plan-title .sep{opacity:.45}
    .plan-title .price-inline{font-weight:900;font-size:1.15rem;line-height:1}
    .plan-title .price-inline small{font-weight:600;font-size:.9rem;color:#333}
    .features{margin:4px 0 6px;color:#333;font-size:.92rem;line-height:1.35}
    .features ul{margin:0;padding:0;list-style:none}
    .features li{display:flex;gap:8px;align-items:flex-start;justify-content:center}
    .features li::before{content:"✓"; color:#2e7d32; font-weight:900}
    .btn-secondary{
      display:inline-block;background:linear-gradient(135deg,#6c5ce7,#00cec9);
      color:#fff;text-decoration:none;font-weight:800;border-radius:12px;padding:10px 14px;
      box-shadow:0 8px 22px rgba(0,0,0,.15);align-self:center;
      transition:transform .15s ease, filter .15s ease;
    }
    .btn-secondary:hover{filter:brightness(1.08);transform:translateY(-1px)}

    /* Footer */
    .footer{margin:14px 0 8px;text-align:center;color:#e6e6e6;font-size:.9rem}
    .footer a{color:#fff}

    /* Reveal soft */
    .reveal{--d:0s;opacity:0;transform:translateY(16px) scale(.995);transform-origin:50% 100%;filter:saturate(.98);
      transition:opacity .85s ease,transform .85s cubic-bezier(.22,1,.36,1),filter .85s ease;will-change:opacity,transform}
    .reveal.in{opacity:1;transform:none;filter:none}
    @media (prefers-reduced-motion:reduce){.reveal,.reveal.in{transition:none;opacity:1;transform:none;filter:none}}

    /* Desktop “statico” senza scroll (mantiene scroll su mobile/tablet) */
    @media (min-width:1200px) and (min-height:720px){
      html, body { height:100%; overflow-y:hidden; }
      .wrap{
        height:calc(100vh - 48px); /* padding top+bottom = 24+24 */
        display:grid; grid-template-rows:auto minmax(0,1fr) auto;
      }
      .hero{ min-height:28vh; }
      .grid{ margin-top:8px; }
    }

    /* iOS: evita jank con background fixed */
    @supports (-webkit-touch-callout: none){ body{background-attachment:scroll} }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- NAV -->
    <nav class="nav" aria-label="Navigazione principale">
      <a href="/" title="myHomesBudget" class="logo-link">
        <img src="/homes.png" alt="myhomesbudget Logo" class="logo-image" loading="lazy">
        <span class="logo-text">MyHomesBudget</span>
      </a>

      <div class="right-bar">
        <a class="login-link" href="login.html" aria-label="Accedi">Accedi</a>

        <a class="nav-link pricing-link"
           href="/it/pricing.html"
           onclick="gtag('event','cta_click',{placement:'nav_pricing',lang:'it'});">
          Prezzi
        </a>

        <span class="lang-selector" aria-label="Selettore lingue">
          <a href="/it/" title="Italiano" lang="it">🇮🇹</a>
          <a href="/en/" title="English" lang="en">🇬🇧</a>
          <a href="/es/" title="Español" lang="es">🇪🇸</a>
        </span>
      </div>
    </nav>

    <!-- HERO (trasparente, testo bianco) -->
    <section class="hero">
      <h1>Gestisci il tuo bilancio domestico in modo semplice e intuitivo</h1>
      <p>Inserisci le tue spese e le entrate in pochi click e tieni tutto sotto controllo.</p>

      <div>
        <a class="cta" href="signup.html?plan=starter"
           onclick="gtag('event','cta_click',{lang:'it',placement:'hero_trial'});">
          Prova gratis per 30 giorni
        </a>
        <a class="cta cta-ghost" href="/it/pricing.html"
           onclick="gtag('event','cta_click',{placement:'hero_secondary',lang:'it'});">
          Scopri i piani
        </a>
      </div>

      <div class="microcopy" aria-hidden="true">Nessuna carta di credito richiesta. Cancella quando vuoi.</div>
    </section>

    <!-- BENEFIT -->
    <section class="grid" aria-label="Benefici principali">
      <div class="card reveal"><h3>Zero complicazioni</h3><p>Niente fogli di calcolo. Tutto chiaro e rapido.</p></div>
      <div class="card reveal"><h3>Sempre con te</h3><p>iPhone, Android e PC. Presto installabile come PWA.</p></div>
      <div class="card reveal"><h3>Privacy UE</h3><p>Dati in Europa e sotto il tuo controllo.</p></div>
    </section>

    <!-- COME FUNZIONA -->
    <section class="card steps" aria-label="Come funziona">
      <h3 class="reveal">Come funziona</h3>
      <div class="steps-grid">
        <div class="step reveal">
          <div class="nbr" aria-hidden="true">1</div>
          <div class="txt">
            <h4>Accedi</h4>
            <p>Entra con la tua email o con Google.</p>
          </div>
        </div>
        <div class="step reveal">
          <div class="nbr" aria-hidden="true">2</div>
          <div class="txt">
            <h4>Aggiungi movimenti</h4>
            <p>Entrate e uscite in pochi click, senza complicazioni.</p>
          </div>
        </div>
        <div class="step reveal">
          <div class="nbr" aria-hidden="true">3</div>
          <div class="txt">
            <h4>Controlla i grafici</h4>
            <p>Monitora le spese e resta sul tuo budget.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- PIANI E PREZZI -->
    <section class="card pricing pricing-panel" aria-label="Piani e prezzi">
      <h3 class="reveal">Scegli il tuo piano</h3>

      <div class="pricing-grid">
        <!-- STARTER -->
        <div class="price-card reveal">
          <h4 class="plan-title">
            <span class="plan-name">Starter</span>
            <span class="sep">—</span>
            <span class="price-inline">Gratis <small>/ 30 giorni</small></span>
          </h4>
          <div class="features">
            <ul>
              <li>Budget e obiettivi personali</li>
              <li>Categorie e sottocategorie personalizzate</li>
              <li>Report base mensili</li>
            </ul>
          </div>
          <a class="btn-secondary"
             href="signup.html?plan=starter"
             onclick="gtag('event','select_pricing',{plan:'starter',placement:'pricing_grid'});">
            Avvia la prova
          </a>
        </div>

        <!-- PLUS -->
        <div class="price-card reveal">
          <div class="badge" aria-hidden="true">Più scelto</div>
          <h4 class="plan-title">
            <span class="plan-name">Plus</span>
            <span class="sep">—</span>
            <span class="price-inline">2,99€ <small>/ mese</small></span>
          </h4>
          <div class="features">
            <ul>
              <li>Tutto di Starter</li>
              <li>Report dettagliati e filtri avanzati</li>
              <li>Supporto prioritario via email</li>
            </ul>
          </div>
          <a class="btn-secondary"
             href="/it/paywall.html?plan=plus"
             onclick="gtag('event','select_pricing',{plan:'plus',placement:'pricing_grid'});">
            Passa a Plus
          </a>
        </div>

        <!-- PRO -->
        <div class="price-card reveal">
          <h4 class="plan-title">
            <span class="plan-name">Pro</span>
            <span class="sep">—</span>
            <span class="price-inline">4,99€ <small>/ mese</small></span>
          </h4>
          <div class="features">
            <ul>
              <li>Tutto di Plus</li>
              <li>Obiettivi multipli e monitor su periodi custom</li>
              <li>Accesso multi-dispositivo senza limiti</li>
            </ul>
          </div>
          <a class="btn-secondary"
             href="/it/paywall.html?plan=pro"
             onclick="gtag('event','select_pricing',{plan:'pro',placement:'pricing_grid'});">
            Passa a Pro
          </a>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      © MyHomesBudget —
      <a href="/it/pricing.html" onclick="gtag('event','cta_click',{placement:'footer_pricing',lang:'it'});">
        Piani & Prezzi
      </a> ·
      <a href="/it/privacy.html" rel="noopener">Privacy</a> ·
      <a href="/it/terms.html" rel="noopener">Termini</a>
    </footer>
  </div>

  <!-- Reveal + GA base -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      gtag('event','view_landing',{ lang:'it' });
      const targets = document.querySelectorAll('.reveal');
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        targets.forEach(el => el.classList.add('in')); return;
      }
      const sorted = [...targets].map(el => ({el, r: el.getBoundingClientRect()}))
        .sort((a,b)=> (a.r.top - b.r.top) || (a.r.left - b.r.left)).map(x=>x.el);
      sorted.forEach((el,i)=> el.style.setProperty('--d',(0.12*i)+'s'));
      const io = new IntersectionObserver((entries,obs)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){ const el=e.target; el.style.transitionDelay=getComputedStyle(el).getPropertyValue('--d')||'0s'; el.classList.add('in'); obs.unobserve(el); }
        });
      },{threshold:0.1, rootMargin:'0px 0px -10% 0px'});
      targets.forEach(el=>io.observe(el));
    });
  </script>
</body>
</html>

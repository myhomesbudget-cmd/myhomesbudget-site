<!doctype html>
<html lang="it" data-app="myhomesbudget">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Riepilogo Tecnico — MyHomesBudget</title>
  <meta name="robots" content="noindex, nofollow" />
  <link rel="icon" href="/homes.png" type="image/png" sizes="32x32">

  <style>
    :root{
      --fg:#111;--bg:#f4f7fa;--glass:rgba(255,255,255,.6);
      --card-border:rgba(0,0,0,.08);--shadow:0 10px 30px rgba(0,0,0,.08);
      --radius-lg:16px;--primary-color:#6c5ce7;--danger-color:#d32f2f;--success-color:#2e7d32;
      --warning-color:#f39c12;--info-color:#3498db;
      --font-sans:-apple-system,system-ui,"Segoe UI",Roboto,sans-serif;
      --grad:linear-gradient(135deg,#6c5ce7,#00cec9);
      --grad-danger:linear-gradient(135deg,#d32f2f,#ff7675);
      --grad-success:linear-gradient(135deg,#2e7d32,#81c784);
      --grad-warning:linear-gradient(135deg,#f39c12,#ffa726);
      --grad-info:linear-gradient(135deg,#3498db,#74b9ff);
    }
    *{box-sizing:border-box}
    html{font-family:var(--font-sans);background-color:var(--bg)}
    body{
      margin:0;
      color:var(--fg);
      background: url("/bg.webp") no-repeat center/cover;
      background-attachment: scroll;
      min-height:100svh;
      -webkit-overflow-scrolling:touch;
    }
    body::before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(108,92,231,.05),rgba(0,206,201,.05));z-index:-1}

    /* TECNICO PAGE MOBILE ACCORDION - 25/09/2025 */
    
    /* Mobile Accordion Cards */
    .tech-card {
      border-radius: 12px;
      padding: 0;
      margin-block: 10px;
      overflow: hidden;
      border: 1px solid var(--card-border);
      background: rgba(255,255,255,0.85);
      box-shadow: var(--shadow);
    }
    
    .tech-card__header {
      min-height: 44px;
      padding: 10px 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      background: rgba(255,255,255,0.9);
      border-bottom: 1px solid var(--card-border);
      list-style: none;
    }
    
    .tech-card__header::after {
      content: "";
      width: 10px;
      height: 10px;
      border-right: 2px solid currentColor;
      border-bottom: 2px solid currentColor;
      transform: rotate(-45deg);
      transition: transform 0.2s ease;
      flex-shrink: 0;
    }
    
    .tech-card[open] .tech-card__header::after {
      transform: rotate(45deg);
    }
    
    .tech-card__title {
      flex: 1;
      color: var(--fg);
    }
    
    .tech-card__content {
      padding: 12px 14px;
    }

    /* Mobile Typography & Layout */
    @media (max-width: 480px) {
      main.container {
        padding-left: 12px;
        padding-right: 12px;
      }
      
      .tech-card {
        margin-block: 12px;
      }
      
      .tech-card__content {
        gap: 10px;
      }
      
      /* Typography */
      h1 { 
        font-size: clamp(1.2rem, 5.6vw, 1.6rem);
        margin: 8px 0;
      }
      
      h2 { 
        font-size: clamp(1.05rem, 4.5vw, 1.3rem);
        margin: 6px 0;
      }

      main.container {
        display: flex;
        flex-direction: column;
      }
    }
    
    @media (min-width: 481px) and (max-width: 1024px) {
      .tech-card {
        margin-block: 14px;
      }
      
      .tech-card__header {
        padding: 12px 16px;
        font-size: 1.1rem;
      }
      
      .tech-card__content {
        padding: 16px;
      }
    }
    
    /* Desktop - Hide accordion behavior */
    @media (min-width: 1025px) {
      .tech-card {
        padding: 24px;
        margin-block: 24px;
      }
      
      .tech-card__header {
        display: none;
      }
      
      .tech-card__content {
        padding: 0;
      }
      
      .tech-card[open] .tech-card__content,
      .tech-card .tech-card__content {
        display: block;
      }
    }
    
    /* END TECNICO PAGE MOBILE ACCORDION - 25/09/2025 */

    /* Fix per iOS/Safari su background-attachment: fixed */
    @media (pointer: coarse) {
      body { background-attachment: scroll !important; }
    }

    /* ====== TOPBAR ====== */
    .topbar{position:fixed;top:0;left:0;right:0;height:60px;padding:0 24px;display:flex;align-items:center;justify-content:space-between;background:var(--glass);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-bottom:1px solid var(--card-border);z-index:100}
    .logo-link{display:flex;align-items:center;gap:8px;text-decoration:none}
    .logo-text{font-weight:600;color:#fff;font-size:1.1rem;text-shadow:0 1px 2px rgba(0,0,0,.35)}
    .top-center{ position: absolute; left: 50%; transform: translateX(-50%); }
    .top-actions{display:flex;gap:12px;align-items:center}
    .top-link,.top-btn{display:flex;align-items:center;justify-content:center;height:34px;color:#fff;text-decoration:none;padding:6px 12px;border-radius:10px;font-size:.9rem;font-weight:600;background:var(--grad);border:none;box-shadow:0 4px 12px rgba(0,0,0,.15);transition:transform .2s ease,filter .2s ease,box-shadow .2s ease;cursor:pointer; white-space: nowrap;}
    .top-link:hover,.top-btn:hover{transform:translateY(-2px);filter:brightness(1.08);box-shadow:0 6px 16px rgba(0,0,0,.20)}

    /* ====== Main Content ====== */
    main.container{padding:84px 24px 24px;max-width:1280px;margin:0 auto;width:100%}
    
    /* ====== Hero Section ====== */
    .hero-section {
      text-align: center;
      margin-bottom: 32px;
      padding: 24px;
      background: rgba(255,255,255,0.6);
      border-radius: var(--radius-lg);
      border: 1px solid var(--card-border);
      box-shadow: var(--shadow);
    }
    
    .hero-title {
      font-size: 2.5rem;
      margin: 0 0 12px;
      background: var(--grad);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-weight: 800;
    }
    
    .hero-subtitle {
      font-size: 1.2rem;
      color: #666;
      margin: 0 0 24px;
    }

    /* ====== Stats Grid ====== */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
      margin-bottom: 32px;
    }

    .stat-card {
      background: rgba(255,255,255,0.85);
      border-radius: var(--radius-lg);
      padding: 24px;
      border: 1px solid var(--card-border);
      box-shadow: var(--shadow);
      text-align: center;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .stat-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(0,0,0,.12);
    }

    .stat-icon {
      font-size: 3rem;
      margin-bottom: 16px;
      display: block;
    }

    .stat-value {
      font-size: 2.5rem;
      font-weight: 800;
      margin: 8px 0;
    }

    .stat-label {
      font-size: 1.1rem;
      color: #666;
      margin: 0;
    }

    .stat-card.income .stat-icon { color: var(--success-color); }
    .stat-card.income .stat-value { color: var(--success-color); }
    .stat-card.expense .stat-icon { color: var(--danger-color); }
    .stat-card.expense .stat-value { color: var(--danger-color); }
    .stat-card.savings .stat-icon { color: var(--info-color); }
    .stat-card.savings .stat-value { color: var(--info-color); }
    .stat-card.goals .stat-icon { color: var(--warning-color); }
    .stat-card.goals .stat-value { color: var(--warning-color); }

    /* ====== Tech Panel ====== */
    .tech-panel {
      background: rgba(255,255,255,0.55);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border-radius: var(--radius-lg);
      padding: 24px;
      border: 1px solid var(--card-border);
      box-shadow: var(--shadow);
    }

    /* ====== Charts & Visualizations ====== */
    .chart-container {
      background: #fff;
      border-radius: 12px;
      padding: 20px;
      margin: 16px 0;
      box-shadow: 0 4px 12px rgba(0,0,0,.05);
    }

    .chart-title {
      font-size: 1.2rem;
      font-weight: 600;
      margin: 0 0 16px;
      color: #333;
    }

    .progress-visualization {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .progress-item {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .progress-label {
      min-width: 120px;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .progress-bar {
      flex: 1;
      height: 12px;
      background: rgba(0,0,0,0.08);
      border-radius: 999px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      border-radius: 999px;
      transition: width 0.8s ease;
    }

    .progress-value {
      min-width: 80px;
      text-align: right;
      font-weight:700;
      font-size: 0.9rem;
    }

    .progress-fill.income { background: var(--grad-success); }
    .progress-fill.expense { background: var(--grad-danger); }
    .progress-fill.savings { background: var(--grad-info); }
    .progress-fill.goals { background: var(--grad-warning); }

    /* ====== Category Breakdown ====== */
    .category-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin: 16px 0;
    }

    .category-item {
      background: #fff;
      border-radius: 12px;
      padding: 16px;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,.05);
      transition: transform 0.2s ease;
    }

    .category-item:hover {
      transform: translateY(-2px);
    }

    .category-icon {
      font-size: 2rem;
      margin-bottom: 8px;
      display: block;
    }

    .category-name {
      font-weight: 600;
      margin: 0 0 8px;
    }

    .category-amount {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--danger-color);
    }

    /* ====== Timeline ====== */
    .timeline {
      position: relative;
      padding-left: 24px;
    }

    .timeline::before {
      content: '';
      position: absolute;
      left: 8px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: var(--grad);
    }

    .timeline-item {
      position: relative;
      padding: 16px 0;
      border-bottom: 1px solid rgba(0,0,0,.05);
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      left: -20px;
      top: 20px;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--primary-color);
      border: 3px solid #fff;
      box-shadow: 0 0 0 2px var(--primary-color);
    }

    .timeline-date {
      font-size: 0.9rem;
      color: #666;
      margin: 0 0 4px;
    }

    .timeline-content {
      font-weight: 600;
    }

    .timeline-amount {
      font-weight: 700;
      margin-top: 4px;
    }

    .timeline-amount.income { color: var(--success-color); }
    .timeline-amount.expense { color: var(--danger-color); }

    /* ====== Responsive ====== */
    @media (max-width: 768px) {
      .hero-title {
        font-size: 2rem;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
        gap: 16px;
      }
      
      .stat-card {
        padding: 20px;
      }
      
      .stat-icon {
        font-size: 2.5rem;
      }
      
      .stat-value {
        font-size: 2rem;
      }
      
      .category-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 12px;
      }
    }

    /* ====== Interactive Elements ====== */
    .interactive-box {
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .interactive-box::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      transition: left 0.5s;
    }

    .interactive-box:hover::before {
      left: 100%;
    }

    .interactive-box:hover {
      transform: translateY(-8px) rotateX(5deg);
      box-shadow: 0 25px 50px rgba(0,0,0,.15);
    }

    .interactive-box:active {
      transform: translateY(-4px) scale(0.98);
    }

    /* ====== Donut Charts ====== */
    .donut-chart {
      position: relative;
      width: 200px;
      height: 200px;
      margin: 0 auto;
    }

    .donut-chart svg {
      transform: rotate(-90deg);
    }

    .donut-chart circle {
      fill: none;
      stroke-width: 20;
      stroke-linecap: round;
      transition: all 0.3s ease;
    }

    .donut-chart .bg-circle {
      stroke: rgba(0,0,0,0.1);
    }

    .donut-chart .progress-circle {
      stroke-dasharray: 0 628;
      animation: donut-fill 2s ease-in-out forwards;
    }

    .donut-chart .progress-circle.income {
      stroke: url(#incomeGradient);
    }

    .donut-chart .progress-circle.expense {
      stroke: url(#expenseGradient);
    }

    .donut-chart .progress-circle.savings {
      stroke: url(#savingsGradient);
    }

    .donut-chart .progress-circle.goals {
      stroke: url(#goalsGradient);
    }

    .donut-chart:hover .progress-circle {
      stroke-width: 25;
      filter: drop-shadow(0 0 10px rgba(108,92,231,0.5));
    }

    .donut-center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }

    .donut-value {
      font-size: 1.8rem;
      font-weight: 800;
      line-height: 1;
    }

    .donut-label {
      font-size: 0.9rem;
      color: #666;
      margin-top: 4px;
    }

    @keyframes donut-fill {
      to {
        stroke-dasharray: var(--progress) 628;
      }
    }

    /* ====== 3D Cards ====== */
    .card-3d {
      perspective: 1000px;
      height: 300px;
    }

    .card-3d-inner {
      position: relative;
      width: 100%;
      height: 100%;
      text-align: center;
      transition: transform 0.8s;
      transform-style: preserve-3d;
      cursor: pointer;
    }

    .card-3d:hover .card-3d-inner {
      transform: rotateY(180deg);
    }

    .card-3d-front,
    .card-3d-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: var(--radius-lg);
      padding: 24px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .card-3d-front {
      background: var(--grad);
      color: white;
    }

    .card-3d-back {
      background: var(--grad-info);
      color: white;
      transform: rotateY(180deg);
    }

    /* ====== Particle Effects ====== */
    .particles-container {
      position: relative;
      overflow: hidden;
    }

    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: var(--primary-color);
      border-radius: 50%;
      pointer-events: none;
      animation: float 6s infinite ease-in-out;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0px) rotate(0deg);
        opacity: 0.7;
      }
      25% {
        transform: translateY(-20px) rotate(90deg);
        opacity: 1;
      }
      50% {
        transform: translateY(-10px) rotate(180deg);
        opacity: 0.8;
      }
      75% {
        transform: translateY(-30px) rotate(270deg);
        opacity: 0.9;
      }
    }

    /* ====== Morphing Shapes ====== */
    .morphing-shape {
      width: 100px;
      height: 100px;
      background: var(--grad);
      margin: 20px auto;
      animation: morph 4s infinite ease-in-out;
      transition: all 0.3s ease;
    }

    .morphing-shape:hover {
      animation-duration: 1s;
      transform: scale(1.1);
    }

    @keyframes morph {
      0%, 100% {
        border-radius: 50%;
        transform: rotate(0deg);
      }
      25% {
        border-radius: 25% 75%;
        transform: rotate(90deg);
      }
      50% {
        border-radius: 0%;
        transform: rotate(180deg);
      }
      75% {
        border-radius: 75% 25%;
        transform: rotate(270deg);
      }
    }

    /* ====== Ripple Effect ====== */
    .ripple {
      position: relative;
      overflow: hidden;
    }

    .ripple::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255,255,255,0.5);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .ripple:active::after {
      width: 300px;
      height: 300px;
    }

    /* ====== Animated Counter ====== */
    .animated-counter {
      font-feature-settings: 'tnum';
      font-variant-numeric: tabular-nums;
    }

    /* ====== Glowing Elements ====== */
    .glow-on-hover {
      position: relative;
      transition: all 0.3s ease;
    }

    .glow-on-hover::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: var(--grad);
      border-radius: inherit;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: -1;
      filter: blur(8px);
    }

    .glow-on-hover:hover::before {
      opacity: 0.7;
    }

    /* ====== Animations ====== */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }

    @keyframes bounce {
      0%, 20%, 53%, 80%, 100% {
        transform: translate3d(0,0,0);
      }
      40%, 43% {
        transform: translate3d(0,-30px,0);
      }
      70% {
        transform: translate3d(0,-15px,0);
      }
      90% {
        transform: translate3d(0,-4px,0);
      }
    }

    .animate-fade-up {
      animation: fadeInUp 0.6s ease forwards;
    }

    .animate-pulse {
      animation: pulse 2s infinite;
    }

    .animate-bounce {
      animation: bounce 2s infinite;
    }

    .animate-delay-1 { animation-delay: 0.1s; }
    .animate-delay-2 { animation-delay: 0.2s; }
    .animate-delay-3 { animation-delay: 0.3s; }
    .animate-delay-4 { animation-delay: 0.4s; }
  </style>
</head>

<body>
  <!-- ====== TOPBAR ====== -->
  <header class="topbar">
    <a href="/" class="logo-link">
      <img src="/homes.png" alt="MyHomesBudget" width="28" height="28" style="filter: brightness(0) invert(1);">
      <span class="logo-text">MyHomesBudget</span>
    </a>
    
    <div class="top-center">
      <h1 style="margin:0; font-size:1.1rem; color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.35);">Riepilogo Tecnico</h1>
    </div>
    
    <nav class="top-actions">
      <a href="/dashboard.html" class="top-link">🏠 Dashboard</a>
      <a href="/profile.html" class="top-link">👤 Profilo</a>
    </nav>
  </header>

  <!-- ====== MAIN CONTENT ====== -->
  <main class="container">
    <!-- Hero Section -->
    <section class="hero-section animate-fade-up">
      <h1 class="hero-title">Riepilogo Tecnico</h1>
      <p class="hero-subtitle">Analisi completa delle tue interazioni finanziarie</p>
      <div style="font-size: 0.95rem; color: #666;">
        Aggiornato al <span id="current-date"></span>
      </div>
    </section>

    <!-- Interactive Stats Overview -->
    <section class="stats-grid">
      <div class="stat-card income interactive-box ripple glow-on-hover animate-fade-up animate-delay-1" onclick="showDetailModal('income')">
        <div class="donut-chart">
          <svg viewBox="0 0 200 200">
            <defs>
              <linearGradient id="incomeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#2e7d32"/>
                <stop offset="100%" style="stop-color:#81c784"/>
              </linearGradient>
            </defs>
            <circle class="bg-circle" cx="100" cy="100" r="90"/>
            <circle class="progress-circle income" cx="100" cy="100" r="90" style="--progress: 450"/>
          </svg>
          <div class="donut-center">
            <div class="donut-value animated-counter" data-target="12450">€0</div>
            <div class="donut-label">Entrate</div>
          </div>
        </div>
      </div>
      
      <div class="stat-card expense interactive-box ripple glow-on-hover animate-fade-up animate-delay-2" onclick="showDetailModal('expense')">
        <div class="donut-chart">
          <svg viewBox="0 0 200 200">
            <defs>
              <linearGradient id="expenseGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#d32f2f"/>
                <stop offset="100%" style="stop-color:#ff7675"/>
              </linearGradient>
            </defs>
            <circle class="bg-circle" cx="100" cy="100" r="90"/>
            <circle class="progress-circle expense" cx="100" cy="100" r="90" style="--progress: 295"/>
          </svg>
          <div class="donut-center">
            <div class="donut-value animated-counter" data-target="8220">€0</div>
            <div class="donut-label">Spese</div>
          </div>
        </div>
      </div>
      
      <div class="stat-card savings interactive-box ripple glow-on-hover animate-fade-up animate-delay-3" onclick="showDetailModal('savings')">
        <div class="donut-chart">
          <svg viewBox="0 0 200 200">
            <defs>
              <linearGradient id="savingsGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#3498db"/>
                <stop offset="100%" style="stop-color:#74b9ff"/>
              </linearGradient>
            </defs>
            <circle class="bg-circle" cx="100" cy="100" r="90"/>
            <circle class="progress-circle savings" cx="100" cy="100" r="90" style="--progress: 152"/>
          </svg>
          <div class="donut-center">
            <div class="donut-value animated-counter" data-target="4230">€0</div>
            <div class="donut-label">Risparmi</div>
          </div>
        </div>
      </div>
      
      <div class="stat-card goals interactive-box ripple glow-on-hover animate-fade-up animate-delay-4" onclick="showDetailModal('goals')">
        <div class="donut-chart">
          <svg viewBox="0 0 200 200">
            <defs>
              <linearGradient id="goalsGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#f39c12"/>
                <stop offset="100%" style="stop-color:#ffa726"/>
              </linearGradient>
            </defs>
            <circle class="bg-circle" cx="100" cy="100" r="90"/>
            <circle class="progress-circle goals" cx="100" cy="100" r="90" style="--progress: 113"/>
          </svg>
          <div class="donut-center">
            <div class="donut-value animated-counter" data-target="3">0</div>
            <div class="donut-label">Obiettivi</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 3D Interactive Cards -->
    <section class="stats-grid" style="margin-top: 40px;">
      <div class="card-3d">
        <div class="card-3d-inner">
          <div class="card-3d-front">
            <div class="morphing-shape"></div>
            <h3>Bilancio Mensile</h3>
            <p>Hover per dettagli</p>
          </div>
          <div class="card-3d-back">
            <h3>Dettagli Bilancio</h3>
            <p>Entrate: €12,450</p>
            <p>Spese: €8,220</p>
            <p>Saldo: +€4,230</p>
          </div>
        </div>
      </div>
      
      <div class="card-3d">
        <div class="card-3d-inner">
          <div class="card-3d-front">
            <div class="morphing-shape"></div>
            <h3>Performance</h3>
            <p>Hover per analisi</p>
          </div>
          <div class="card-3d-back">
            <h3>Analisi Performance</h3>
            <p>Risparmio: +34%</p>
            <p>Crescita: +12%</p>
            <p>Efficienza: 89%</p>
          </div>
        </div>
      </div>
      
      <div class="card-3d">
        <div class="card-3d-inner">
          <div class="card-3d-front">
            <div class="morphing-shape"></div>
            <h3>Previsioni</h3>
            <p>Hover per proiezioni</p>
          </div>
          <div class="card-3d-back">
            <h3>Proiezioni Futuro</h3>
            <p>Prossimo mese: €13,200</p>
            <p>Obiettivi: 6 mesi</p>
            <p>ROI previsto: +18%</p>
          </div>
        </div>
      </div>
      
      <div class="card-3d">
        <div class="card-3d-inner">
          <div class="card-3d-front">
            <div class="morphing-shape"></div>
            <h3>Insights</h3>
            <p>Hover per suggerimenti</p>
          </div>
          <div class="card-3d-back">
            <h3>AI Insights</h3>
            <p>Riduci trasporti -15%</p>
            <p>Aumenta risparmio +5%</p>
            <p>Nuovo obiettivo: Casa</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Detailed Analysis -->
    <div class="tech-panel">
      
      <!-- Monthly Trends Card -->
      <details class="tech-card" open>
        <summary class="tech-card__header">
          <span class="tech-card__title">📈 Andamento Mensile</span>
        </summary>
        <div class="tech-card__content">
          <div class="chart-container">
            <h3 class="chart-title">Performance Ultimo Trimestre</h3>
            <div class="progress-visualization">
              <div class="progress-item">
                <span class="progress-label">Gennaio</span>
                <div class="progress-bar">
                  <div class="progress-fill income" style="width: 85%"></div>
                </div>
                <span class="progress-value">€3,200</span>
              </div>
              <div class="progress-item">
                <span class="progress-label">Febbraio</span>
                <div class="progress-bar">
                  <div class="progress-fill income" style="width: 92%"></div>
                </div>
                <span class="progress-value">€3,650</span>
              </div>
              <div class="progress-item">
                <span class="progress-label">Marzo</span>
                <div class="progress-bar">
                  <div class="progress-fill income" style="width: 78%"></div>
                </div>
                <span class="progress-value">€2,890</span>
              </div>
            </div>
          </div>
        </div>
      </details>

      <!-- Interactive Category Breakdown Card -->
      <details class="tech-card particles-container" open>
        <summary class="tech-card__header">
          <span class="tech-card__title">🏷️ Categorie di Spesa Interattive</span>
        </summary>
        <div class="tech-card__content">
          <div class="category-grid">
            <div class="category-item interactive-box animate-pulse" onclick="animateCategory(this)" data-amount="2450">
              <span class="category-icon animate-bounce">🏠</span>
              <h4 class="category-name">Casa</h4>
              <div class="category-amount animated-counter" data-target="2450">€0</div>
              <div class="progress-bar" style="margin-top: 8px;">
                <div class="progress-fill expense" style="width: 0%; transition: width 2s ease;"></div>
              </div>
            </div>
            <div class="category-item interactive-box animate-pulse" onclick="animateCategory(this)" data-amount="1230">
              <span class="category-icon animate-bounce">🚗</span>
              <h4 class="category-name">Trasporti</h4>
              <div class="category-amount animated-counter" data-target="1230">€0</div>
              <div class="progress-bar" style="margin-top: 8px;">
                <div class="progress-fill expense" style="width: 0%; transition: width 2s ease;"></div>
              </div>
            </div>
            <div class="category-item interactive-box animate-pulse" onclick="animateCategory(this)" data-amount="890">
              <span class="category-icon animate-bounce">🍽️</span>
              <h4 class="category-name">Alimentari</h4>
              <div class="category-amount animated-counter" data-target="890">€0</div>
              <div class="progress-bar" style="margin-top: 8px;">
                <div class="progress-fill expense" style="width: 0%; transition: width 2s ease;"></div>
              </div>
            </div>
            <div class="category-item interactive-box animate-pulse" onclick="animateCategory(this)" data-amount="340">
              <span class="category-icon animate-bounce">💊</span>
              <h4 class="category-name">Salute</h4>
              <div class="category-amount animated-counter" data-target="340">€0</div>
              <div class="progress-bar" style="margin-top: 8px;">
                <div class="progress-fill expense" style="width: 0%; transition: width 2s ease;"></div>
              </div>
            </div>
            <div class="category-item interactive-box animate-pulse" onclick="animateCategory(this)" data-amount="520">
              <span class="category-icon animate-bounce">🎯</span>
              <h4 class="category-name">Svago</h4>
              <div class="category-amount animated-counter" data-target="520">€0</div>
              <div class="progress-bar" style="margin-top: 8px;">
                <div class="progress-fill expense" style="width: 0%; transition: width 2s ease;"></div>
              </div>
            </div>
            <div class="category-item interactive-box animate-pulse" onclick="animateCategory(this)" data-amount="180">
              <span class="category-icon animate-bounce">📚</span>
              <h4 class="category-name">Formazione</h4>
              <div class="category-amount animated-counter" data-target="180">€0</div>
              <div class="progress-bar" style="margin-top: 8px;">
                <div class="progress-fill expense" style="width: 0%; transition: width 2s ease;"></div>
              </div>
            </div>
          </div>
        </div>
      </details>

      <!-- Goals Progress Card -->
      <details class="tech-card" open>
        <summary class="tech-card__header">
          <span class="tech-card__title">🎯 Progressi Obiettivi</span>
        </summary>
        <div class="tech-card__content">
          <div class="chart-container">
            <h3 class="chart-title">Stato Obiettivi di Risparmio</h3>
            <div class="progress-visualization">
              <div class="progress-item">
                <span class="progress-label">Vacanze Estate</span>
                <div class="progress-bar">
                  <div class="progress-fill goals" style="width: 65%"></div>
                </div>
                <span class="progress-value">€1,950/€3,000</span>
              </div>
              <div class="progress-item">
                <span class="progress-label">Fondo Emergenza</span>
                <div class="progress-bar">
                  <div class="progress-fill goals" style="width: 40%"></div>
                </div>
                <span class="progress-value">€2,000/€5,000</span>
              </div>
              <div class="progress-item">
                <span class="progress-label">Nuovo Laptop</span>
                <div class="progress-bar">
                  <div class="progress-fill goals" style="width: 80%"></div>
                </div>
                <span class="progress-value">€800/€1,000</span>
              </div>
            </div>
          </div>
        </div>
      </details>

      <!-- Activity Timeline Card -->
      <details class="tech-card">
        <summary class="tech-card__header">
          <span class="tech-card__title">⏰ Attività Recenti</span>
        </summary>
        <div class="tech-card__content">
          <div class="chart-container">
            <h3 class="chart-title">Cronologia Operazioni</h3>
            <div class="timeline">
              <div class="timeline-item">
                <div class="timeline-date">25 Settembre 2025</div>
                <div class="timeline-content">Pagamento bolletta elettrica</div>
                <div class="timeline-amount expense">-€120,50</div>
              </div>
              <div class="timeline-item">
                <div class="timeline-date">24 Settembre 2025</div>
                <div class="timeline-content">Stipendio mensile</div>
                <div class="timeline-amount income">+€2,800,00</div>
              </div>
              <div class="timeline-item">
                <div class="timeline-date">23 Settembre 2025</div>
                <div class="timeline-content">Spesa supermercato</div>
                <div class="timeline-amount expense">-€85,30</div>
              </div>
              <div class="timeline-item">
                <div class="timeline-date">22 Settembre 2025</div>
                <div class="timeline-content">Contributo obiettivo vacanze</div>
                <div class="timeline-amount expense">-€150,00</div>
              </div>
              <div class="timeline-item">
                <div class="timeline-date">21 Settembre 2025</div>
                <div class="timeline-content">Freelance progetto web</div>
                <div class="timeline-amount income">+€450,00</div>
              </div>
            </div>
          </div>
        </div>
      </details>

      <!-- Insights Card -->
      <details class="tech-card">
        <summary class="tech-card__header">
          <span class="tech-card__title">💡 Insights & Raccomandazioni</span>
        </summary>
        <div class="tech-card__content">
          <div class="chart-container">
            <h3 class="chart-title">Analisi Automatica</h3>
            <div style="display: flex; flex-direction: column; gap: 16px;">
              <div style="padding: 16px; background: rgba(46,125,50,0.1); border-left: 4px solid var(--success-color); border-radius: 8px;">
                <h4 style="margin: 0 0 8px; color: var(--success-color);">✅ Risparmio Ottimo</h4>
                <p style="margin: 0; font-size: 0.95rem;">Hai risparmiato il 34% delle tue entrate questo mese. Ottimo lavoro!</p>
              </div>
              <div style="padding: 16px; background: rgba(243,156,18,0.1); border-left: 4px solid var(--warning-color); border-radius: 8px;">
                <h4 style="margin: 0 0 8px; color: var(--warning-color);">⚠️ Spese Trasporti</h4>
                <p style="margin: 0; font-size: 0.95rem;">Le spese per trasporti sono aumentate del 15% rispetto al mese scorso.</p>
              </div>
              <div style="padding: 16px; background: rgba(52,152,219,0.1); border-left: 4px solid var(--info-color); border-radius: 8px;">
                <h4 style="margin: 0 0 8px; color: var(--info-color);">📊 Obiettivi in Linea</h4>
                <p style="margin: 0; font-size: 0.95rem;">Tutti i tuoi obiettivi sono in linea con la pianificazione temporale.</p>
              </div>
            </div>
          </div>
        </div>
      </details>

    </div>
  </main>

  <script>
    /* TECNICO PAGE INTERACTIVE FEATURES - 25/09/2025 */
    (function() {
      // Set current date
      document.getElementById('current-date').textContent = new Date().toLocaleDateString('it-IT', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      });

      // Mobile accordion behavior
      function updateAccordionState() {
        const width = window.innerWidth;
        const cards = document.querySelectorAll('.tech-card');
        
        if (width <= 480) {
          cards.forEach((card, index) => {
            if (index === 0) {
              card.setAttribute('open', '');
            } else {
              card.removeAttribute('open');
            }
          });
        } else if (width <= 1024) {
          cards.forEach((card, index) => {
            if (index < 2) {
              card.setAttribute('open', '');
            } else {
              card.removeAttribute('open');
            }
          });
        } else {
          cards.forEach(card => {
            card.setAttribute('open', '');
          });
        }
      }

      // Animated Counter Function
      function animateCounter(element, target) {
        const start = 0;
        const duration = 2000;
        const startTime = performance.now();
        
        function update(currentTime) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);
          
          const easeOutCubic = 1 - Math.pow(1 - progress, 3);
          const current = Math.floor(start + (target - start) * easeOutCubic);
          
          if (element.dataset.target.includes('.') || target < 100) {
            element.textContent = target < 10 ? current : `€${current.toLocaleString('it-IT')}`;
          } else {
            element.textContent = `€${current.toLocaleString('it-IT')}`;
          }
          
          if (progress < 1) {
            requestAnimationFrame(update);
          }
        }
        
        requestAnimationFrame(update);
      }

      // Initialize counters
      function initCounters() {
        const counters = document.querySelectorAll('.animated-counter');
        counters.forEach(counter => {
          const target = parseInt(counter.dataset.target);
          animateCounter(counter, target);
        });
      }

      // Create particles
      function createParticles() {
        const containers = document.querySelectorAll('.particles-container');
        
        containers.forEach(container => {
          for (let i = 0; i < 10; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 6 + 's';
            particle.style.animationDuration = (3 + Math.random() * 3) + 's';
            container.appendChild(particle);
          }
        });
      }

      // Category animation
      window.animateCategory = function(element) {
        const amount = parseInt(element.dataset.amount);
        const maxAmount = 2450; // Casa is the highest
        const percentage = (amount / maxAmount) * 100;
        
        const progressFill = element.querySelector('.progress-fill');
        const counter = element.querySelector('.animated-counter');
        
        // Reset animation
        progressFill.style.width = '0%';
        
        setTimeout(() => {
          progressFill.style.width = percentage + '%';
          animateCounter(counter, amount);
        }, 100);
        
        // Add celebration effect
        element.style.transform = 'scale(1.05)';
        setTimeout(() => {
          element.style.transform = 'scale(1)';
        }, 300);
      };

      // Show detail modal (placeholder)
      window.showDetailModal = function(type) {
        const messages = {
          income: 'Dettagli Entrate:\n• Stipendio: €2,800\n• Freelance: €450\n• Investimenti: €200',
          expense: 'Dettagli Spese:\n• Casa: €2,450\n• Trasporti: €1,230\n• Alimentari: €890',
          savings: 'Dettagli Risparmi:\n• Conto risparmio: €3,200\n• Investimenti: €1,030',
          goals: 'Obiettivi Attivi:\n• Vacanze Estate (65%)\n• Fondo Emergenza (40%)\n• Nuovo Laptop (80%)'
        };
        
        alert(messages[type] || 'Dettagli non disponibili');
      };

      // Animate progress bars
      function animateProgressBars() {
        const progressBars = document.querySelectorAll('.progress-fill');
        progressBars.forEach(bar => {
          const width = bar.style.width;
          bar.style.width = '0%';
          setTimeout(() => {
            bar.style.width = width;
          }, 100);
        });
      }

      // Intersection Observer for scroll animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-fade-up');
            
            // Trigger counter animation when element comes into view
            if (entry.target.querySelector('.animated-counter')) {
              const counters = entry.target.querySelectorAll('.animated-counter');
              counters.forEach(counter => {
                if (!counter.classList.contains('animated')) {
                  counter.classList.add('animated');
                  const target = parseInt(counter.dataset.target);
                  setTimeout(() => animateCounter(counter, target), 300);
                }
              });
            }
          }
        });
      }, observerOptions);

      // Initialize everything
      updateAccordionState();
      createParticles();
      
      // Observe elements for animations
      document.querySelectorAll('.stat-card, .card-3d, .category-item').forEach(el => {
        observer.observe(el);
      });

      // Update on window resize
      let resizeTimeout;
      window.addEventListener('resize', function() {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(updateAccordionState, 150);
      });

      // Initialize with delay for better UX
      setTimeout(() => {
        initCounters();
        animateProgressBars();
      }, 500);

      // Auto-animate category progress bars
      setTimeout(() => {
        document.querySelectorAll('.category-item').forEach((item, index) => {
          setTimeout(() => {
            const amount = parseInt(item.dataset.amount);
            const maxAmount = 2450;
            const percentage = (amount / maxAmount) * 100;
            const progressFill = item.querySelector('.progress-fill');
            if (progressFill) {
              progressFill.style.width = percentage + '%';
            }
          }, index * 200);
        });
      }, 1000);

    })();
    /* END TECNICO PAGE INTERACTIVE FEATURES - 25/09/2025 */
  </script>
</body>
</html>
